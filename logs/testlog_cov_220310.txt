MNEMONIC1 is not set. Mainnet deployments won't be available
MNEMONIC3 is not set. Ropsten deployments won't be available

Version
=======
> solidity-coverage: v0.7.17

Instrumenting for coverage...
=============================

> lib/LandBlobLib.sol
> lib/LandLib.sol
> lib/LandSvgLib.sol
> protocol/LandSale.sol
> token/ERC20Impl.sol
> token/ERC721Impl.sol
> token/LandDescriptorImpl.sol
> token/LandERC721.sol
> token/RoyalERC721.sol
> token/UpgradeableERC721.sol
> utils/AccessControl.sol
> utils/UpgradeableAccessControl.sol

Coverage skipped for:
=====================

> interfaces/EIP2981Spec.sol
> interfaces/ERC165Spec.sol
> interfaces/ERC20Spec.sol
> interfaces/ERC721Spec.sol
> interfaces/ERC721SpecExt.sol
> interfaces/IdentifiableSpec.sol
> interfaces/ImmutableSpec.sol
> interfaces/LandERC721Spec.sol
> interfaces/PriceOracleSpec.sol
> mocks/AccessControlMocks.sol
> mocks/ChainlinkAggregatorV3Mock.sol
> mocks/ERC20Mock.sol
> mocks/ERC721Mock.sol
> mocks/ERC721ReceiverMock.sol
> mocks/LandBlobLibMock.sol
> mocks/LandDescriptorMock.sol
> mocks/LandLibMock.sol
> mocks/LandNFTMock.sol
> mocks/LandSaleMock.sol
> mocks/LandSalePriceOracleV1Mock.sol
> mocks/LandSvgLibMock.sol
> protocol/LandSalePriceOracleV1.sol

Compilation:
============

Compiling 77 files with 0.8.11
Warning: Contract code size is 31901 bytes and exceeds 24576 bytes (a limit introduced in Spurious Dragon). This contract may not be deployable on mainnet. Consider enabling the optimizer (with a low "runs" value!), turning off revert strings, or using libraries.
  --> contracts/token/LandDescriptorImpl.sol:16:1:
   |
16 | contract LandDescriptorImpl is LandDescriptor {
   | ^ (Relevant source part starts here and spans across multiple lines).


Warning: Contract code size is 32646 bytes and exceeds 24576 bytes (a limit introduced in Spurious Dragon). This contract may not be deployable on mainnet. Consider enabling the optimizer (with a low "runs" value!), turning off revert strings, or using libraries.
  --> contracts/mocks/LandDescriptorMock.sol:13:1:
   |
13 | contract LandDescriptorMock is LandDescriptorImpl {
   | ^ (Relevant source part starts here and spans across multiple lines).


Warning: Contract code size is 61774 bytes and exceeds 24576 bytes (a limit introduced in Spurious Dragon). This contract may not be deployable on mainnet. Consider enabling the optimizer (with a low "runs" value!), turning off revert strings, or using libraries.
  --> contracts/token/LandERC721.sol:87:1:
   |
87 | contract LandERC721 is RoyalERC721, LandERC721Metadata, ImmutableMintableERC721 {
   | ^ (Relevant source part starts here and spans across multiple lines).


Warning: Contract code size is 62123 bytes and exceeds 24576 bytes (a limit introduced in Spurious Dragon). This contract may not be deployable on mainnet. Consider enabling the optimizer (with a low "runs" value!), turning off revert strings, or using libraries.
  --> contracts/mocks/LandNFTMock.sol:13:1:
   |
13 | contract LandNFTMock is LandERC721 {
   | ^ (Relevant source part starts here and spans across multiple lines).


Warning: Contract code size is 48718 bytes and exceeds 24576 bytes (a limit introduced in Spurious Dragon). This contract may not be deployable on mainnet. Consider enabling the optimizer (with a low "runs" value!), turning off revert strings, or using libraries.
  --> contracts/protocol/LandSale.sol:96:1:
   |
96 | contract LandSale is UpgradeableAccessControl {
   | ^ (Relevant source part starts here and spans across multiple lines).


Warning: Contract code size is 49150 bytes and exceeds 24576 bytes (a limit introduced in Spurious Dragon). This contract may not be deployable on mainnet. Consider enabling the optimizer (with a low "runs" value!), turning off revert strings, or using libraries.
  --> contracts/mocks/LandSaleMock.sol:14:1:
   |
14 | contract LandSaleMock is LandSale {
   | ^ (Relevant source part starts here and spans across multiple lines).


Compilation finished successfully

Network Info
============
> HardhatEVM: v2.8.0
> network:    hardhat

successfully constructed the Merkle tree for 100000 land plots
generated 10000 land plots
(node:63718) [DEP0128] DeprecationWarning: Invalid 'main' field in '/Users/vgorin/DEVELOP/up/Cryptant/land-sale/node_modules/ansi-mark/package.json' of 'ansi-mark'. Please either fix that or report it to the module author
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:63718) [DEP0128] DeprecationWarning: Invalid 'main' field in '/Users/vgorin/DEVELOP/up/Cryptant/land-sale/node_modules/super-split/package.json' of 'super-split'. Please either fix that or report it to the module author


  Contract: ERC20: AccessControl (ACL) tests
    ERC20Impl: ACL
      after spender's approval
        when FEATURE_TRANSFERS_ON_BEHALF is enabled
          ✓ transfer on behalf succeeds
        when FEATURE_TRANSFERS_ON_BEHALF is disabled
          ✓ transfer on behalf reverts (82ms)
        when FEATURE_BURNS_ON_BEHALF is enabled
          ✓ burn on behalf succeeds
        when FEATURE_BURNS_ON_BEHALF is disabled
          ✓ burn on behalf reverts
      when FEATURE_TRANSFERS is enabled
        ✓ direct transfer succeeds
      when FEATURE_TRANSFERS is disabled
        ✓ direct transfer reverts (214ms)
      when FEATURE_OWN_BURNS is enabled
        ✓ self burn succeeds
      when FEATURE_OWN_BURNS is disabled
        ✓ self burn reverts
      when operator is TOKEN_CREATOR
        ✓ mint succeeds
      when operator is not TOKEN_CREATOR
        ✓ mint reverts
      when operator is TOKEN_DESTROYER
        ✓ burn succeeds
      when operator is not TOKEN_DESTROYER and FEATURE_BURNS_ON_BEHALF is enabled
        ✓ burn reverts

  Contract: ERC20: ERC165 Interface ID tests
    run vittominacori's shouldSupportInterfaces
      Contract interface
        ERC20
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support ERC20: 0x36372b07 (43ms)
          totalSupply()
            ✓ has to be implemented
          balanceOf(address)
            ✓ has to be implemented
          transfer(address,uint256)
            ✓ has to be implemented
          transferFrom(address,address,uint256)
            ✓ has to be implemented
          approve(address,uint256)
            ✓ has to be implemented
          allowance(address,address)
            ✓ has to be implemented

  Contract: ERC20: OpenZeppelin ERC20 Tests
    ERC20 token shouldBehaveLikeERC20
      total supply
        ✓ returns the total amount of tokens
      balanceOf
        when the requested account has no tokens
          ✓ returns zero
        when the requested account has some tokens
          ✓ returns the total amount of tokens
      transfer
        when the recipient is not the zero address
          when the sender does not have enough balance
            ✓ reverts
          when the sender transfers all balance
            ✓ transfers the requested amount
            ✓ emits a transfer event
(node:63718) DeprecationWarning: expectEvent.inLogs() is deprecated. Use expectEvent() instead.
          when the sender transfers zero tokens
            ✓ transfers the requested amount
            ✓ emits a transfer event
        when the recipient is the zero address
          ✓ reverts
      transfer from
        when the token owner is not the zero address
          when the recipient is not the zero address
            when the spender has enough approved balance
              when the token owner has enough balance
                ✓ transfers the requested amount
                ✓ decreases the spender allowance
                ✓ emits a transfer event
                ✓ emits an approval event
              when the token owner does not have enough balance
                ✓ reverts
            when the spender does not have enough approved balance
              when the token owner has enough balance
                ✓ reverts
              when the token owner does not have enough balance
                ✓ reverts
          when the recipient is the zero address
            ✓ reverts
        when the token owner is the zero address
          ✓ reverts
      approve
        when the spender is not the zero address
          when the sender has enough balance
            ✓ emits an approval event
            when there was no approved amount before
              ✓ approves the requested amount
            when the spender had an approved amount
              ✓ approves the requested amount and replaces the previous one
          when the sender does not have enough balance
            ✓ emits an approval event
            when there was no approved amount before
              ✓ approves the requested amount
            when the spender had an approved amount
              ✓ approves the requested amount and replaces the previous one
        when the spender is the zero address
          ✓ reverts
    ERC20 token shouldHaveMint (ext)
      _mint
        ✓ rejects a null account
        for a non zero account
          ✓ increments totalSupply
          ✓ increments recipient balance
          ✓ emits Transfer event
    ERC20 token shouldHaveBurn (ext)
      _burn
        ✓ rejects a null account
        for a non zero account
          ✓ rejects burning more than balance
          for entire balance
            ✓ decrements totalSupply
            ✓ decrements initialHolder balance
            ✓ emits Transfer event
          for less amount than balance
            ✓ decrements totalSupply
            ✓ decrements initialHolder balance
            ✓ emits Transfer event
    ERC20 token shouldHaveBasicProps (ext)
      ✓ has a name
      ✓ has a symbol
      ✓ has 18 decimals
    ERC20 token shouldHaveApprove (ext)
      decrease allowance
        when the spender is not the zero address
          when the sender has enough balance
            when there was no approved amount before
              ✓ reverts
            when the spender had an approved amount
              ✓ emits an approval event
              ✓ decreases the spender allowance subtracting the requested amount
              ✓ sets the allowance to zero when all allowance is removed
              ✓ reverts when more than the full allowance is removed
          when the sender does not have enough balance
            when there was no approved amount before
              ✓ reverts
            when the spender had an approved amount
              ✓ emits an approval event
              ✓ decreases the spender allowance subtracting the requested amount
              ✓ sets the allowance to zero when all allowance is removed
              ✓ reverts when more than the full allowance is removed
        when the spender is the zero address
          ✓ reverts
      increase allowance
        when the spender is not the zero address
          when the sender has enough balance
            ✓ emits an approval event
            when there was no approved amount before
              ✓ approves the requested amount
            when the spender had an approved amount
              ✓ increases the spender allowance adding the requested amount
          when the sender does not have enough balance
            ✓ emits an approval event
            when there was no approved amount before
              ✓ approves the requested amount
            when the spender had an approved amount
              ✓ increases the spender allowance adding the requested amount
        when the spender is the zero address
          ✓ reverts

  Contract: ERC721: AccessControl (ACL) tests
    ERC721Impl: ACL
      when FEATURE_TRANSFERS is enabled
        ✓ direct transfer succeeds
        ✓ safe direct transfer succeeds
      when FEATURE_TRANSFERS is disabled
        ✓ direct transfer reverts
        ✓ safe direct transfer reverts
      when token transfer is approved
        when FEATURE_TRANSFERS_ON_BEHALF is enabled
          ✓ transfer on behalf succeeds
          ✓ safe transfer on behalf succeeds
        when FEATURE_TRANSFERS_ON_BEHALF is disabled
          ✓ transfer on behalf reverts
          ✓ safe transfer on behalf reverts
      when transfer operator is set
        when FEATURE_TRANSFERS_ON_BEHALF is enabled
          ✓ transfer on behalf by operator succeeds
          ✓ safe transfer on behalf by operator succeeds
        when FEATURE_TRANSFERS_ON_BEHALF is disabled
          ✓ transfer on behalf by operator reverts
          ✓ safe transfer on behalf by operator reverts
      when FEATURE_OWN_BURNS is enabled
        ✓ burn succeeds
      when FEATURE_OWN_BURNS is disabled
        ✓ burn reverts
      when token transfer is approved
        when FEATURE_BURNS_ON_BEHALF is enabled
          ✓ burn on behalf succeeds
        when FEATURE_BURNS_ON_BEHALF is disabled
          ✓ burn on behalf reverts
      when transfer operator is set
        when FEATURE_BURNS_ON_BEHALF is enabled
          ✓ burn on behalf by operator succeeds
        when FEATURE_BURNS_ON_BEHALF is disabled
          ✓ burn on behalf by operator reverts
      when sender has ROLE_TOKEN_CREATOR permission
        ✓ sender can mint a token
      when sender doesn't have ROLE_TOKEN_CREATOR permission
        ✓ sender can't mint a token
      when sender has ROLE_TOKEN_DESTROYER permission and FEATURE_OWN_BURNS/FEATURE_BURNS_ON_BEHALF are disabled
        ✓ sender can burn own token
        ✓ sender can burn someone else's token
      when sender doesn't have ROLE_TOKEN_DESTROYER permission and FEATURE_OWN_BURNS/FEATURE_BURNS_ON_BEHALF are enabled
        ✓ sender can't burn someone else's token
      when sender has ROLE_URI_MANAGER permission
        ✓ sender can set baseURI
        ✓ sender can set tokenURI
      when sender doesn't have ROLE_URI_MANAGER permission
        ✓ sender can't set baseURI
        ✓ sender can't set tokenURI
      when sender has ROLE_RESCUE_MANAGER permission
        ✓ sender can rescue ERC20 tokens
      when sender doesn't have ROLE_RESCUE_MANAGER permission
        ✓ sender can't rescue ERC20 tokens

  Contract: ERC721: OpenZeppelin ERC721 Tests
    ERC721Impl shouldBehaveLikeERC721 +Enumerable +Metadata
      Contract interface
        ERC165
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support
          supportsInterface(bytes4)
            ✓ has to be implemented
        ERC721
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support
          balanceOf(address)
            ✓ has to be implemented
          ownerOf(uint256)
            ✓ has to be implemented
          approve(address,uint256)
            ✓ has to be implemented
          getApproved(uint256)
            ✓ has to be implemented
          setApprovalForAll(address,bool)
            ✓ has to be implemented
          isApprovedForAll(address,address)
            ✓ has to be implemented
          transferFrom(address,address,uint256)
            ✓ has to be implemented
          safeTransferFrom(address,address,uint256)
            ✓ has to be implemented
          safeTransferFrom(address,address,uint256,bytes)
            ✓ has to be implemented
      with minted tokens
        balanceOf
          when the given address owns some tokens
            ✓ returns the amount of tokens owned by the given address
          when the given address does not own any tokens
            ✓ returns 0
          when querying the zero address
            ✓ throws
        ownerOf
          when the given token ID was tracked by this token
            ✓ returns the owner of the given token ID
          when the given token ID was not tracked by this token
            ✓ reverts
        transfers
          via transferFrom
            when called by the owner
              ✓ transfers the ownership of the given token ID to the given address
              ✓ emits a Transfer event
              ✓ clears the approval for the token ID
              ✓ emits an Approval event
              ✓ adjusts owners balances
              ✓ adjusts owners tokens by index
            when called by the approved individual
              ✓ transfers the ownership of the given token ID to the given address
              ✓ emits a Transfer event
              ✓ clears the approval for the token ID
              ✓ emits an Approval event
              ✓ adjusts owners balances
              ✓ adjusts owners tokens by index
            when called by the operator
              ✓ transfers the ownership of the given token ID to the given address
              ✓ emits a Transfer event
              ✓ clears the approval for the token ID
              ✓ emits an Approval event
              ✓ adjusts owners balances
              ✓ adjusts owners tokens by index
            when called by the owner without an approved user
              ✓ transfers the ownership of the given token ID to the given address
              ✓ emits a Transfer event
              ✓ clears the approval for the token ID
              ✓ emits an Approval event
              ✓ adjusts owners balances
              ✓ adjusts owners tokens by index
            when sent to the owner
              ✓ keeps ownership of the token
              ✓ clears the approval for the token ID
              ✓ emits only a transfer event
              ✓ keeps the owner balance
              ✓ keeps same tokens by index
            when the address of the previous owner is incorrect
              ✓ reverts
            when the sender is not authorized for the token id
              ✓ reverts
            when the given token ID does not exist
              ✓ reverts
            when the address to transfer the token to is the zero address
              ✓ reverts
          via safeTransferFrom
            with data
              to a user account
                when called by the owner
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the approved individual
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the operator
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the owner without an approved user
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when sent to the owner
                  ✓ keeps ownership of the token
                  ✓ clears the approval for the token ID
                  ✓ emits only a transfer event
                  ✓ keeps the owner balance
                  ✓ keeps same tokens by index
                when the address of the previous owner is incorrect
                  ✓ reverts
                when the sender is not authorized for the token id
                  ✓ reverts
                when the given token ID does not exist
                  ✓ reverts
                when the address to transfer the token to is the zero address
                  ✓ reverts
              to a valid receiver contract
                ✓ calls onERC721Received
                ✓ calls onERC721Received from approved
                when called by the owner
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the approved individual
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the operator
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the owner without an approved user
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when sent to the owner
                  ✓ keeps ownership of the token
                  ✓ clears the approval for the token ID
                  ✓ emits only a transfer event
                  ✓ keeps the owner balance
                  ✓ keeps same tokens by index
                when the address of the previous owner is incorrect
                  ✓ reverts
                when the sender is not authorized for the token id
                  ✓ reverts
                when the given token ID does not exist
                  ✓ reverts
                when the address to transfer the token to is the zero address
                  ✓ reverts
                with an invalid token id
                  ✓ reverts
            without data
              to a user account
                when called by the owner
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the approved individual
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the operator
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the owner without an approved user
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when sent to the owner
                  ✓ keeps ownership of the token
                  ✓ clears the approval for the token ID
                  ✓ emits only a transfer event
                  ✓ keeps the owner balance
                  ✓ keeps same tokens by index
                when the address of the previous owner is incorrect
                  ✓ reverts
                when the sender is not authorized for the token id
                  ✓ reverts
                when the given token ID does not exist
                  ✓ reverts
                when the address to transfer the token to is the zero address
                  ✓ reverts
              to a valid receiver contract
                ✓ calls onERC721Received
                ✓ calls onERC721Received from approved
                when called by the owner
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the approved individual
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the operator
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the owner without an approved user
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when sent to the owner
                  ✓ keeps ownership of the token
                  ✓ clears the approval for the token ID
                  ✓ emits only a transfer event
                  ✓ keeps the owner balance
                  ✓ keeps same tokens by index
                when the address of the previous owner is incorrect
                  ✓ reverts
                when the sender is not authorized for the token id
                  ✓ reverts
                when the given token ID does not exist
                  ✓ reverts
                when the address to transfer the token to is the zero address
                  ✓ reverts
                with an invalid token id
                  ✓ reverts
            to a receiver contract returning unexpected value
              ✓ reverts (52ms)
            to a receiver contract that reverts with message
              ✓ reverts (44ms)
            to a receiver contract that reverts without message
              ✓ reverts (43ms)
            to a receiver contract that panics
              ✓ reverts
            to a contract that does not implement the required function
              ✓ reverts (52ms)
        safe mint
          via safeMint
            ✓ calls onERC721Received — with data
            ✓ calls onERC721Received — without data
            to a receiver contract returning unexpected value
              ✓ reverts (43ms)
            to a receiver contract that reverts with message
              ✓ reverts (68ms)
            to a receiver contract that reverts without message
              ✓ reverts
            to a receiver contract that panics
              ✓ reverts
            to a contract that does not implement the required function
              ✓ reverts
        approve
          when clearing approval
            when there was no prior approval
              ✓ clears approval for the token
              ✓ emits an approval event
            when there was a prior approval
              ✓ clears approval for the token
              ✓ emits an approval event
          when approving a non-zero address
            when there was no prior approval
              ✓ sets the approval for the target address
              ✓ emits an approval event
            when there was a prior approval to the same address
              ✓ sets the approval for the target address
              ✓ emits an approval event
            when there was a prior approval to a different address
              ✓ sets the approval for the target address
              ✓ emits an approval event
          when the address that receives the approval is the owner
            ✓ reverts
          when the sender does not own the given token ID
            ✓ reverts
          when the sender is approved for the given token ID
            ✓ reverts
          when the sender is an operator
            ✓ sets the approval for the target address
            ✓ emits an approval event
          when the given token ID does not exist
            ✓ reverts
        setApprovalForAll
          when the operator willing to approve is not the owner
            when there is no operator approval set by the sender
              ✓ approves the operator
              ✓ emits an approval event
            when the operator was set as not approved
              ✓ approves the operator
              ✓ emits an approval event
              ✓ can unset the operator approval
            when the operator was already approved
              ✓ keeps the approval to the given address
              ✓ emits an approval event
          when the operator is the owner
            ✓ reverts
        getApproved
          when token is not minted
            ✓ reverts
          when token has been minted
            ✓ should return the zero address
            when account has been approved
              ✓ returns approved account
      _mint(address, uint256)
        ✓ reverts with a null destination address
        with minted token
          ✓ emits a Transfer event
          ✓ creates the token
          ✓ reverts when adding a token id that already exists
      _burn
        ✓ reverts when burning a non-existent token id
        with minted tokens
          with burnt token
            ✓ emits a Transfer event
            ✓ emits an Approval event
            ✓ deletes the token
            ✓ reverts when burning a token id that has been deleted
      Contract interface
        ERC721Enumerable
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support
          totalSupply()
            ✓ has to be implemented
          tokenOfOwnerByIndex(address,uint256)
            ✓ has to be implemented
          tokenByIndex(uint256)
            ✓ has to be implemented
      with minted tokens
        totalSupply
          ✓ returns total token supply
        tokenOfOwnerByIndex
          when the given index is lower than the amount of tokens owned by the given address
            ✓ returns the token ID placed at the given index
          when the index is greater than or equal to the total tokens owned by the given address
            ✓ reverts
          when the given address does not own any token
            ✓ reverts
          after transferring all tokens to another user
            ✓ returns correct token IDs for target
            ✓ returns empty collection for original owner
        tokenByIndex
          ✓ returns all tokens
          ✓ reverts if index is greater than supply
          ✓ returns all tokens after burning token 5042 and minting new tokens (59ms)
          ✓ returns all tokens after burning token 79217 and minting new tokens (59ms)
      _mint(address, uint256)
        ✓ reverts with a null destination address (347ms)
        with minted token
          ✓ adjusts owner tokens by index
          ✓ adjusts all tokens list
      _burn
        ✓ reverts when burning a non-existent token id
        with minted tokens
          with burnt token
            ✓ removes that token from the token list of the owner
            ✓ adjusts all tokens list
            ✓ burns all tokens
      Contract interface
        ERC721Metadata
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support
          name()
            ✓ has to be implemented
          symbol()
            ✓ has to be implemented
          tokenURI(uint256)
            ✓ has to be implemented
      metadata
        ✓ has a name
        ✓ has a symbol
        token URI
          ✓ return empty string by default
          ✓ reverts when queried for non existent token id
          base URI
            ✓ base URI can be set
            ✓ base URI is added as a prefix to the token URI
            ✓ token URI can be changed by changing the base URI
      token URI
        ✓ it is empty by default
        ✓ reverts when queried for non existent token id
        ✓ can be set for a token id
        ✓ reverts when setting for non existent token id
        ✓ base URI can be set
        ✓ base URI is added as a prefix to the token URI
        ✓ token URI can be changed by changing the base URI (84ms)
        ✓ tokenId is appended to base URI for tokens with no URI
        ✓ tokens without URI can be burnt
        ✓ tokens with URI can be burnt

  Contract: ERC721: rescue ERC20 tokens test
    once ERC20 tokens are lost in the ERC721 contract
      ✓ ERC20 "Transfer" event is emitted
      ✓ ERC721 contract balance increases as expected
      ✓ cannot rescue more than all the tokens
      can rescue all the tokens
        ✓ ERC20 "Transfer" event is emitted
        ✓ ERC721 balance decreases as expected
        ✓ token recipient balance increases as expected
      can rescue some tokens
        ✓ ERC20 "Transfer" event is emitted
        ✓ ERC721 balance decreases as expected
        ✓ token recipient balance increases as expected

  Contract: LandBlobLib: minting blob parsing tests
    ✓ atoi: digits only (low complexity) (862ms)
    ✓ atoi: mixed (low complexity) (436ms)
    ✓ parseMintingBlob (low complexity) (966ms)
    corner cases
      ✓ atoi returns zero for an empty bytes input
      ✓ atoi returns zero if string contains only invalid characters
      ✓ atoi returns zero for 0x10
      ✓ atoi returns 10 for a10
      ✓ atoi returns 10 for 10A
      ✓ atoi returns 0 for 10A offset 2
      ✓ atoi returns 10 for 1010 offset 2
      ✓ parseMintingBlob: "{123}:{467}" => (123, 467)
      ✓ parseMintingBlob: "123:467" => (123, 467)
      ✓ parseMintingBlob: "123{}467" => (123, 467)
      ✓ parseMintingBlob: "b123abc467a" => (123, 467)
      ✓ parseMintingBlob: "b123abc467a8910" => (123, 467)
      ✓ parseMintingBlob: " 123 467 " => (123, 467)
      ✓ parseMintingBlob: "123
467" => (123, 467)
      ✓ parseMintingBlob: "[123,467]" => (123, 467)
      ✓ parseMintingBlob: "[123; 467]" => (123, 467)
      ✓ parseMintingBlob: "(123, 467)" => (123, 467)
      ✓ parseMintingBlob: "(123, 467, 8910)" => (123, 467)
      ✓ parseMintingBlob: "{123.467}" => (123, 467)
      ✓ parseMintingBlob: "{123.467.8910}" => (123, 467)
      ✓ parseMintingBlob: "abc123" => (123, 0)
      ✓ parseMintingBlob: "123abc" => (123, 0)
      ✓ parseMintingBlob: "{123}" => (123, 0)
      ✓ parseMintingBlob: "{123:}" => (123, 0)
      ✓ parseMintingBlob: "{:123}" => (123, 0)
      ✓ parseMintingBlob: "{,123}" => (123, 0)
      ✓ parseMintingBlob: "
123" => (123, 0)
      ✓ parseMintingBlob: "{123,
}" => (123, 0)
      ✓ parseMintingBlob: "{
,123}" => (123, 0)
      ✓ parseMintingBlob: "(123, 0)" => (123, 0)
      ✓ parseMintingBlob: "0:123" => (0, 123)
      ✓ parseMintingBlob: "0:123:467" => (0, 123)
      ✓ parseMintingBlob: "0; 123" => (0, 123)
      ✓ parseMintingBlob: "(0, 123)" => (0, 123)
      ✓ parseMintingBlob: "(0, 123, 467)" => (0, 123)
      ✓ parseMintingBlob: "0,123" => (0, 123)
      ✓ parseMintingBlob: "0,123,467" => (0, 123)
      ✓ parseMintingBlob: "0.123" => (0, 123)
      ✓ parseMintingBlob: "0.123.467" => (0, 123)
      ✓ parseMintingBlob: reverts for "" (no tokenId)
      ✓ parseMintingBlob: reverts for "" (no tokenId)
      ✓ parseMintingBlob: reverts for "abc" (no tokenId)
      ✓ parseMintingBlob: reverts for "{}" (no tokenId)
      ✓ parseMintingBlob: "0" => (0, 0)
      ✓ parseMintingBlob: "{0}" => (0, 0)
      ✓ parseMintingBlob: "{0}:{0}" => (0, 0)
      ✓ parseMintingBlob: "{0}:" => (0, 0)
      ✓ parseMintingBlob: "(0, 0, 123)" => (0, 0)
      ✓ parseMintingBlob: ":0" => (0, 0)
      ✓ parseMintingBlob: "
0" => (0, 0)
      ✓ parseMintingBlob: "
0
0
123" => (0, 0)

  Contract: LandLib: [Land Gen] Isomorphic Grid ASCII Printer Tests
    ✓ 1x1 print
    ✓ 1x1 corners
    ✓ 2x2 print
    ✓ 2x2 corners
    ✓ 3x3 print
    ✓ 3x3 corners
    ✓ 4x4 print
    ✓ 4x4 corners
    ✓ 5x5 print
    ✓ 5x5 corners

  Contract: LandLib: [Land Gen] Isomorphic Grid Tests
    ✓ it is possible to generate site maps of zero length
    ✓ it is possible to generate site maps with one element site only
    ✓ it is possible to generate site maps with one fuel site only

  Contract: LandLib.sol vs land_lib.js: JS Implementation tests
    ✓ pack (low complexity) (67ms)
    ✓ unpack (low complexity) (58ms)
    ✓ nextRndUint (low complexity) (56ms)
    ✓ getCoords (low complexity) (764ms)
    ✓ getResourceSites (low complexity) (1743ms)
    ✓ sort (low complexity) (460ms)

  Contract: LandERC721: AccessControl (ACL) tests
    LandERC721: ACL
      when FEATURE_TRANSFERS is enabled
        ✓ direct transfer succeeds
        ✓ safe direct transfer succeeds
      when FEATURE_TRANSFERS is disabled
        ✓ direct transfer reverts
        ✓ safe direct transfer reverts
      when token transfer is approved
        when FEATURE_TRANSFERS_ON_BEHALF is enabled
          ✓ transfer on behalf succeeds
          ✓ safe transfer on behalf succeeds
        when FEATURE_TRANSFERS_ON_BEHALF is disabled
          ✓ transfer on behalf reverts
          ✓ safe transfer on behalf reverts
      when transfer operator is set
        when FEATURE_TRANSFERS_ON_BEHALF is enabled
          ✓ transfer on behalf by operator succeeds
          ✓ safe transfer on behalf by operator succeeds
        when FEATURE_TRANSFERS_ON_BEHALF is disabled
          ✓ transfer on behalf by operator reverts
          ✓ safe transfer on behalf by operator reverts
      when FEATURE_OWN_BURNS is enabled
        ✓ burn succeeds
      when FEATURE_OWN_BURNS is disabled
        ✓ burn reverts
      when token transfer is approved
        when FEATURE_BURNS_ON_BEHALF is enabled
          ✓ burn on behalf succeeds
        when FEATURE_BURNS_ON_BEHALF is disabled
          ✓ burn on behalf reverts
      when transfer operator is set
        when FEATURE_BURNS_ON_BEHALF is enabled
          ✓ burn on behalf by operator succeeds
        when FEATURE_BURNS_ON_BEHALF is disabled
          ✓ burn on behalf by operator reverts
      when sender has ROLE_METADATA_PROVIDER permission
        ✓ sender can set token metadata
        ✓ sender can remove token metadata
      when sender doesn't have ROLE_METADATA_PROVIDER permission
        ✓ sender can't set token metadata
        ✓ sender can't remove token metadata
      when sender has ROLE_TOKEN_CREATOR and ROLE_METADATA_PROVIDER permissions
        ✓ sender can mint a token with metadata
      when sender doesn't have ROLE_TOKEN_CREATOR permission
        ✓ sender can't mint a token with metadata (69ms)
      when sender doesn't have ROLE_METADATA_PROVIDER permission
        ✓ sender can't mint a token with metadata
      when sender has ROLE_TOKEN_CREATOR permission
        ✓ sender can mint a token
      when sender doesn't have ROLE_TOKEN_CREATOR permission
        ✓ sender can't mint a token
      when sender has ROLE_TOKEN_DESTROYER permission and FEATURE_OWN_BURNS/FEATURE_BURNS_ON_BEHALF are disabled
        ✓ sender can burn own token
        ✓ sender can burn someone else's token
      when sender doesn't have ROLE_TOKEN_DESTROYER permission and FEATURE_OWN_BURNS/FEATURE_BURNS_ON_BEHALF are enabled
        ✓ sender can't burn someone else's token
      when sender has ROLE_URI_MANAGER permission
        ✓ sender can set baseURI
        ✓ sender can set tokenURI
        ✓ sender can update landDescriptor
      when sender doesn't have ROLE_URI_MANAGER permission
        ✓ sender can't set baseURI
        ✓ sender can't set tokenURI
        ✓ sender can't update landDescriptor
      when ERC20 tokens are lost
        when sender has ROLE_RESCUE_MANAGER permission
          ✓ sender can rescue ERC20 tokens
        when sender doesn't have ROLE_RESCUE_MANAGER permission
          ✓ sender can't rescue ERC20 tokens

  Contract: LandERC721/RoyalERC721: EIP2981 royalties
    EIP2981 Royalties
      ✓ royaltyReceiver is not set initially
      ✓ royaltyPercentage is not set initially
      ✓ contractURI is not set initially
      updating the royalty info
        when sender doesn't have ROLE_ROYALTY_MANAGER permission
          ✓ setRoyaltyInfo fails
        when sender has ROLE_ROYALTY_MANAGER permission
          ✓ fails if receiver is not set but royalty is set
          succeeds if both receiver and royalty are set
            ✓ royaltyReceiver gets set as expected
            ✓ royaltyPercentage gets set as expected
            ✓ royalty gets calculated as expected
            ✓ "RoyaltyInfoUpdated" event is emitted
          succeeds if receiver is set and royalty is not
            ✓ royaltyReceiver gets set as expected
            ✓ royaltyPercentage gets set as expected
            ✓ royalty gets calculated as expected
            ✓ "RoyaltyInfoUpdated" event is emitted
          succeeds if both receiver and royalty are not set
            ✓ royaltyReceiver gets set as expected
            ✓ royaltyPercentage gets set as expected
            ✓ royalty gets calculated as expected
            ✓ "RoyaltyInfoUpdated" event is emitted
    OpenSea contract level metadata
      when sender doesn't have ROLE_URI_MANAGER permission
        ✓ setContractURI fails
      when sender has ROLE_URI_MANAGER permission
        setContractURI succeeds
          ✓ contractURI gets set as expected
          ✓ "ContractURIUpdated" event is emitted
    OpenSea/Zeppelin "Ownable" Support
      ✓ "owner" is set to the deployer address initially
      when sender doesn't have ROLE_OWNER_MANAGER permission
        ✓ setOwner fails
      when sender has ROLE_OWNER_MANAGER permission
        setOwner succeeds
          ✓ owner gets set as expected
          ✓ "OwnerUpdated" event is emitted
          ✓ new "owner" cannot change owner due to lack of ROLE_OWNER_MANAGER permission

  Contract: LandERC721: ERC165 Interface ID tests
    run vittominacori's shouldSupportInterfaces
      Contract interface
        ERC721
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support ERC721: 0x80ac58cd
          balanceOf(address)
            ✓ has to be implemented
          ownerOf(uint256)
            ✓ has to be implemented
          safeTransferFrom(address,address,uint256,bytes)
            ✓ has to be implemented
          safeTransferFrom(address,address,uint256)
            ✓ has to be implemented
          transferFrom(address,address,uint256)
            ✓ has to be implemented
          approve(address,uint256)
            ✓ has to be implemented
          setApprovalForAll(address,bool)
            ✓ has to be implemented
          getApproved(uint256)
            ✓ has to be implemented
          isApprovedForAll(address,address)
            ✓ has to be implemented
        MintableERC721
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support MintableERC721: 0x26e2e617
          exists(uint256)
            ✓ has to be implemented
          mint(address,uint256)
            ✓ has to be implemented
          safeMint(address,uint256)
            ✓ has to be implemented
          safeMint(address,uint256,bytes)
            ✓ has to be implemented
        LandERC721Metadata
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support LandERC721Metadata: 0x1b3453b3
          viewMetadata(uint256)
            ✓ has to be implemented
          getMetadata(uint256)
            ✓ has to be implemented
          hasMetadata(uint256)
            ✓ has to be implemented
          setMetadata(uint256,(uint8,uint8,uint16,uint16,uint8,uint16,uint8,uint8,uint8,uint160))
            ✓ has to be implemented
          removeMetadata(uint256)
            ✓ has to be implemented
          mintWithMetadata(address,uint256,(uint8,uint8,uint16,uint16,uint8,uint16,uint8,uint8,uint8,uint160))
            ✓ has to be implemented
        ImmutableMintableERC721
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support ImmutableMintableERC721: 0x19ee6e3f
          mintFor(address,uint256,bytes)
            ✓ has to be implemented

  Contract: ERC721: OpenZeppelin ERC721 Tests
    LandERC721 shouldBehaveLikeERC721 +Enumerable +Metadata
      Contract interface
        ERC165
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support
          supportsInterface(bytes4)
            ✓ has to be implemented
        ERC721
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support
          balanceOf(address)
            ✓ has to be implemented
          ownerOf(uint256)
            ✓ has to be implemented
          approve(address,uint256)
            ✓ has to be implemented
          getApproved(uint256)
            ✓ has to be implemented
          setApprovalForAll(address,bool)
            ✓ has to be implemented
          isApprovedForAll(address,address)
            ✓ has to be implemented
          transferFrom(address,address,uint256)
            ✓ has to be implemented
          safeTransferFrom(address,address,uint256)
            ✓ has to be implemented
          safeTransferFrom(address,address,uint256,bytes)
            ✓ has to be implemented
      with minted tokens
        balanceOf
          when the given address owns some tokens
            ✓ returns the amount of tokens owned by the given address
          when the given address does not own any tokens
            ✓ returns 0
          when querying the zero address
            ✓ throws
        ownerOf
          when the given token ID was tracked by this token
            ✓ returns the owner of the given token ID
          when the given token ID was not tracked by this token
            ✓ reverts
        transfers
          via transferFrom
            when called by the owner
              ✓ transfers the ownership of the given token ID to the given address
              ✓ emits a Transfer event
              ✓ clears the approval for the token ID
              ✓ emits an Approval event
              ✓ adjusts owners balances
              ✓ adjusts owners tokens by index
            when called by the approved individual
              ✓ transfers the ownership of the given token ID to the given address
              ✓ emits a Transfer event
              ✓ clears the approval for the token ID
              ✓ emits an Approval event
              ✓ adjusts owners balances
              ✓ adjusts owners tokens by index
            when called by the operator
              ✓ transfers the ownership of the given token ID to the given address
              ✓ emits a Transfer event
              ✓ clears the approval for the token ID
              ✓ emits an Approval event
              ✓ adjusts owners balances
              ✓ adjusts owners tokens by index
            when called by the owner without an approved user
              ✓ transfers the ownership of the given token ID to the given address
              ✓ emits a Transfer event
              ✓ clears the approval for the token ID
              ✓ emits an Approval event
              ✓ adjusts owners balances
              ✓ adjusts owners tokens by index
            when sent to the owner
              ✓ keeps ownership of the token
              ✓ clears the approval for the token ID
              ✓ emits only a transfer event
              ✓ keeps the owner balance
              ✓ keeps same tokens by index
            when the address of the previous owner is incorrect
              ✓ reverts
            when the sender is not authorized for the token id
              ✓ reverts
            when the given token ID does not exist
              ✓ reverts
            when the address to transfer the token to is the zero address
              ✓ reverts
          via safeTransferFrom
            with data
              to a user account
                when called by the owner
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the approved individual
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the operator
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the owner without an approved user
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when sent to the owner
                  ✓ keeps ownership of the token
                  ✓ clears the approval for the token ID
                  ✓ emits only a transfer event
                  ✓ keeps the owner balance
                  ✓ keeps same tokens by index
                when the address of the previous owner is incorrect
                  ✓ reverts
                when the sender is not authorized for the token id
                  ✓ reverts
                when the given token ID does not exist
                  ✓ reverts
                when the address to transfer the token to is the zero address
                  ✓ reverts
              to a valid receiver contract
                ✓ calls onERC721Received
                ✓ calls onERC721Received from approved
                when called by the owner
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the approved individual
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the operator
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the owner without an approved user
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when sent to the owner
                  ✓ keeps ownership of the token
                  ✓ clears the approval for the token ID
                  ✓ emits only a transfer event
                  ✓ keeps the owner balance
                  ✓ keeps same tokens by index
                when the address of the previous owner is incorrect
                  ✓ reverts
                when the sender is not authorized for the token id
                  ✓ reverts
                when the given token ID does not exist
                  ✓ reverts
                when the address to transfer the token to is the zero address
                  ✓ reverts
                with an invalid token id
                  ✓ reverts
            without data
              to a user account
                when called by the owner
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the approved individual
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the operator
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the owner without an approved user
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when sent to the owner
                  ✓ keeps ownership of the token
                  ✓ clears the approval for the token ID
                  ✓ emits only a transfer event
                  ✓ keeps the owner balance
                  ✓ keeps same tokens by index
                when the address of the previous owner is incorrect
                  ✓ reverts
                when the sender is not authorized for the token id
                  ✓ reverts
                when the given token ID does not exist
                  ✓ reverts
                when the address to transfer the token to is the zero address
                  ✓ reverts
              to a valid receiver contract
                ✓ calls onERC721Received
                ✓ calls onERC721Received from approved (69ms)
                when called by the owner
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the approved individual
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the operator
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when called by the owner without an approved user
                  ✓ transfers the ownership of the given token ID to the given address
                  ✓ emits a Transfer event
                  ✓ clears the approval for the token ID
                  ✓ emits an Approval event
                  ✓ adjusts owners balances
                  ✓ adjusts owners tokens by index
                when sent to the owner
                  ✓ keeps ownership of the token
                  ✓ clears the approval for the token ID
                  ✓ emits only a transfer event
                  ✓ keeps the owner balance
                  ✓ keeps same tokens by index
                when the address of the previous owner is incorrect
                  ✓ reverts
                when the sender is not authorized for the token id
                  ✓ reverts
                when the given token ID does not exist
                  ✓ reverts
                when the address to transfer the token to is the zero address
                  ✓ reverts
                with an invalid token id
                  ✓ reverts
            to a receiver contract returning unexpected value
              ✓ reverts (47ms)
            to a receiver contract that reverts with message
              ✓ reverts (43ms)
            to a receiver contract that reverts without message
              ✓ reverts (44ms)
            to a receiver contract that panics
              ✓ reverts (39ms)
            to a contract that does not implement the required function
              ✓ reverts (38ms)
        safe mint
          via safeMint
            ✓ calls onERC721Received — with data
            ✓ calls onERC721Received — without data
            to a receiver contract returning unexpected value
              ✓ reverts (60ms)
            to a receiver contract that reverts with message
              ✓ reverts (38ms)
            to a receiver contract that reverts without message
              ✓ reverts
            to a receiver contract that panics
              ✓ reverts (51ms)
            to a contract that does not implement the required function
              ✓ reverts
        approve
          when clearing approval
            when there was no prior approval
              ✓ clears approval for the token
              ✓ emits an approval event
            when there was a prior approval
              ✓ clears approval for the token
              ✓ emits an approval event
          when approving a non-zero address
            when there was no prior approval
              ✓ sets the approval for the target address
              ✓ emits an approval event
            when there was a prior approval to the same address
              ✓ sets the approval for the target address
              ✓ emits an approval event
            when there was a prior approval to a different address
              ✓ sets the approval for the target address
              ✓ emits an approval event
          when the address that receives the approval is the owner
            ✓ reverts
          when the sender does not own the given token ID
            ✓ reverts
          when the sender is approved for the given token ID
            ✓ reverts
          when the sender is an operator
            ✓ sets the approval for the target address
            ✓ emits an approval event
          when the given token ID does not exist
            ✓ reverts
        setApprovalForAll
          when the operator willing to approve is not the owner
            when there is no operator approval set by the sender
              ✓ approves the operator
              ✓ emits an approval event
            when the operator was set as not approved
              ✓ approves the operator
              ✓ emits an approval event
              ✓ can unset the operator approval
            when the operator was already approved
              ✓ keeps the approval to the given address
              ✓ emits an approval event
          when the operator is the owner
            ✓ reverts
        getApproved
          when token is not minted
            ✓ reverts
          when token has been minted
            ✓ should return the zero address
            when account has been approved
              ✓ returns approved account
      _mint(address, uint256)
        ✓ reverts with a null destination address
        with minted token
          ✓ emits a Transfer event
          ✓ creates the token
          ✓ reverts when adding a token id that already exists
      _burn
        ✓ reverts when burning a non-existent token id
        with minted tokens
          with burnt token
            ✓ emits a Transfer event
            ✓ emits an Approval event
            ✓ deletes the token
            ✓ reverts when burning a token id that has been deleted
      Contract interface
        ERC721Enumerable
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support
          totalSupply()
            ✓ has to be implemented
          tokenOfOwnerByIndex(address,uint256)
            ✓ has to be implemented
          tokenByIndex(uint256)
            ✓ has to be implemented
      with minted tokens
        totalSupply
          ✓ returns total token supply
        tokenOfOwnerByIndex
          when the given index is lower than the amount of tokens owned by the given address
            ✓ returns the token ID placed at the given index
          when the index is greater than or equal to the total tokens owned by the given address
            ✓ reverts
          when the given address does not own any token
            ✓ reverts
          after transferring all tokens to another user
            ✓ returns correct token IDs for target
            ✓ returns empty collection for original owner
        tokenByIndex
          ✓ returns all tokens
          ✓ reverts if index is greater than supply
          ✓ returns all tokens after burning token 5042 and minting new tokens (63ms)
          ✓ returns all tokens after burning token 79217 and minting new tokens (58ms)
      _mint(address, uint256)
        ✓ reverts with a null destination address
        with minted token
          ✓ adjusts owner tokens by index
          ✓ adjusts all tokens list
      _burn
        ✓ reverts when burning a non-existent token id
        with minted tokens
          with burnt token
            ✓ removes that token from the token list of the owner
            ✓ adjusts all tokens list
            ✓ burns all tokens
      Contract interface
        ERC721Metadata
          ERC165's supportsInterface(bytes4)
            ✓ uses less than 30k gas [skip-on-coverage]
            ✓ claims support
          name()
            ✓ has to be implemented
          symbol()
            ✓ has to be implemented
          tokenURI(uint256)
            ✓ has to be implemented
      metadata
        ✓ has a name
        ✓ has a symbol
        token URI
          ✓ return empty string by default
          ✓ reverts when queried for non existent token id
          base URI
            ✓ base URI can be set
            ✓ base URI is added as a prefix to the token URI (41ms)
            ✓ token URI can be changed by changing the base URI (39ms)
      token URI
        ✓ it is empty by default
        ✓ reverts when queried for non existent token id
        ✓ can be set for a token id
        ✓ reverts when setting for non existent token id
        ✓ base URI can be set
        ✓ base URI is added as a prefix to the token URI
        ✓ token URI can be changed by changing the base URI (39ms)
        ✓ tokenId is appended to base URI for tokens with no URI
        ✓ tokens without URI can be burnt
        ✓ tokens with URI can be burnt  (93ms)

  Contract: LandERC721: land descriptor integration tests
    when a token is minted
      when land descriptor is not set, tokenURI() behaves as usual
        when base URI and token URI are not set
          ✓ tokenURI returns empty string
        when base URI is set
          ✓ tokenURI returns non-empty non-SVG string
        when token URI is set
          ✓ tokenURI returns non-empty non-SVG string
      when land descriptor is set
        when land descriptor returns empty string, tokenURI() behaves as usual
          when base URI and token URI are not set
            ✓ tokenURI returns empty string
          when base URI is set
            ✓ tokenURI returns non-empty non-SVG string
          when token URI is set
            ✓ tokenURI returns non-empty non-SVG string
        when land descriptor returns non-empty string, tokenURI() gets overridden
          when base URI and token URI are not set
            ✓ tokenURI returns non-empty SVG string
          when base URI is set
            ✓ tokenURI returns non-empty SVG string
          when token URI is set
            ✓ tokenURI returns non-empty SVG string
    when token is not minted and land descriptor is set
      ✓ tokenURI() throws

  Contract: LandERC721: Metadata tests
    ✓ impossible to mint a token with a zero ID (plot location constraint) (66ms)
    metadata can be pre-set for non-existing token
      ✓ "MetadataUpdated" event is emitted
      ✓ metadata gets written
      ✓ metadata gets written as expected
      ✓ plot location gets occupied as expected
      metadata view looks as expected
        ✓ regionId
        ✓ x
        ✓ y
        ✓ tierId
        ✓ size
        ✓ landmarkTypeId
        ✓ elementSites
        ✓ fuelSites
        ✓ number of element sites is as expected
        ✓ number of fuel sites is as expected
    metadata can be updated for non-existing token
      ✓ "MetadataUpdated" event is emitted
      ✓ metadata gets written
      ✓ metadata gets written as expected
      ✓ plot location gets occupied as expected
      metadata view looks as expected
        ✓ regionId
        ✓ x
        ✓ y
        ✓ tierId
        ✓ size
        ✓ landmarkTypeId
        ✓ elementSites
        ✓ fuelSites
        ✓ number of element sites is as expected
        ✓ number of fuel sites is as expected
    metadata can be removed for non-existing token
      ✓ "MetadataRemoved" event is emitted
      ✓ metadata gets removed
      ✓ plot location gets erased as expected
    metadata cannot be set/changed for existing token
      ✓ setMetadata reverts
    metadata cannot be removed for existing token
      ✓ removeMetadata reverts
    burning a token removes its metadata
      ✓ "MetadataRemoved" event is emitted
      ✓ metadata gets removed
      ✓ plot location gets erased as expected
    impossible to mint a token without metadata
      ✓ mint reverts (62ms)
    impossible to register a plot with the size less than 24
      ✓ setMetadata reverts (45ms)
    impossible to register two plots in the same location
      ✓ setMetadata reverts

  Contract: LandERC721: IMX mintFor tests
    ✓ mintFor fails if rudimentary amount is zero
    ✓ mintFor fails if rudimentary amount is bigger than one (67ms)
    ✓ mintFor fails if blueprint is zero (zero plot size constraint) (52ms)
    when plot is minted via mintFor
      ✓ "Transfer" event is emitted
      ✓ "MetadataUpdated" event is emitted
      ✓ metadata gets written
      ✓ metadata gets written as expected

  Contract: ERC721: rescue ERC20 tokens test
    once ERC20 tokens are lost in the ERC721 contract
      ✓ ERC20 "Transfer" event is emitted
      ✓ ERC721 contract balance increases as expected
      ✓ cannot rescue more than all the tokens
      can rescue all the tokens
        ✓ ERC20 "Transfer" event is emitted
        ✓ ERC721 contract balance decreases as expected
        ✓ token recipient balance increases as expected
      can rescue some tokens
        ✓ ERC20 "Transfer" event is emitted
        ✓ ERC721 contract balance decreases as expected
        ✓ token recipient balance increases as expected

  Contract: LandSale: AccessControl (ACL) tests
    when sale is deployed
      when sender has ROLE_DATA_MANAGER permission
        ✓ sender can set input data root: setInputDataRoot()
      when sender doesn't have ROLE_DATA_MANAGER permission
        ✓ sender can't set input data root: setInputDataRoot()
      when sender has ROLE_SALE_MANAGER permission
        ✓ sender can initialize the sale: initialize()
      when sender doesn't have ROLE_SALE_MANAGER permission
        ✓ sender can't initialize the sale: initialize()
      when sender has ROLE_PAUSE_MANAGER permission
        ✓ sender can pause the sale: pause()
      when sender doesn't have ROLE_PAUSE_MANAGER permission
        ✓ sender can't pause the sale: pause()
      when sale is paused
        when sender has ROLE_PAUSE_MANAGER permission
          ✓ sender can resume the sale: resume()
        when sender doesn't have ROLE_PAUSE_MANAGER permission
          ✓ sender can't resume the sale: resume()
      when sender has ROLE_WITHDRAWAL_MANAGER permission
        ✓ sender can set beneficiary: setBeneficiary()
      when sender doesn't have ROLE_WITHDRAWAL_MANAGER permission
        ✓ sender can't set beneficiary: setBeneficiary()
      when non-sILV ERC20 tokens are lost in the sale contract
        when sender has ROLE_RESCUE_MANAGER permission
          ✓ sender can rescue lost tokens: rescueErc20() (75ms)
        when sender doesn't have ROLE_RESCUE_MANAGER permission
          ✓ sender can't rescue lost tokens: rescueErc20() (41ms)
      when sale is initialized, and input data root is set
        when FEATURE_L1_SALE_ACTIVE is enabled
          ✓ buyL1() succeeds (49ms)
        when FEATURE_L1_SALE_ACTIVE is disabled
          ✓ buyL1() reverts
        when FEATURE_L2_SALE_ACTIVE is enabled
          ✓ buyL2() succeeds
        when FEATURE_L2_SALE_ACTIVE is disabled
          ✓ buyL2() reverts
      when some plots were bought
        when sender has ROLE_WITHDRAWAL_MANAGER permission
          ✓ sender can withdraw the funds: withdraw()
        when sender doesn't have ROLE_WITHDRAWAL_MANAGER permission
          ✓ sender can't withdraw the funds: withdraw()

  Contract: LandSalePriceOracleV1: Chainlink Feed Tests
    deployment / proxy initialization
      ✓ fails if Chainlink aggregator address is not set (64ms)
      fails if Chainlink aggregator returns invalid data
        ✓ fails if Chainlink aggregator returns invalid roundId (77ms)
        ✓ fails if Chainlink aggregator returns invalid answer (133ms)
        ✓ fails if Chainlink aggregator returns invalid startedAt (76ms)
        ✓ fails if Chainlink aggregator returns invalid updatedAt (74ms)
        ✓ fails if Chainlink aggregator returns invalid answeredRoundId (73ms)
        ✓ succeeds otherwise (58ms)
    when oracle is deployed
      ✓ ILV/ETH conversion(ethToIlv) fails if roundId != answeredInRound
      ✓ ILV/ETH conversion(ethToIlv) fails if startedAt > updatedAt
      ✓ ILV/ETH conversion(ethToIlv) fails if updatedAt is too old
      ✓ ILV/ETH conversion(ethToIlv) fails if updatedAt is in the future (86ms)
      ✓ ILV/ETH conversion(ethToIlv) succeeds otherwise
      ✓ ILV/ETH conversion(ethToIlv) succeeds otherwise (random value)

  Contract: LandSale: Price Formula Test
0s	 '[...................................................................................................|] 100.00%'
140s	 '[..............................................................................................|.....] 95.39%'
280s	 '[..........................................................................................|.........] 91.00%'
420s	 '[......................................................................................|.............] 86.80%'
560s	 '[..................................................................................|.................] 82.81%'
700s	 '[..............................................................................|.....................] 78.99%'
840s	 '[..........................................................................|.........................] 75.35%'
980s	 '[.......................................................................|............................] 71.88%'
1120s	 '[....................................................................|...............................] 68.57%'
1260s	 '[................................................................|...................................] 65.41%'
1400s	 '[.............................................................|......................................] 62.40%'
1540s	 '[...........................................................|........................................] 59.53%'
1680s	 '[........................................................|...........................................] 56.78%'
1820s	 '[.....................................................|..............................................] 54.17%'
1960s	 '[...................................................|................................................] 51.67%'
2100s	 '[................................................|...................................................] 49.29%'
2240s	 '[..............................................|.....................................................] 47.02%'
2380s	 '[............................................|.......................................................] 44.86%'
2520s	 '[..........................................|.........................................................] 42.79%'
2660s	 '[........................................|...........................................................] 40.82%'
2800s	 '[......................................|.............................................................] 38.94%'
2940s	 '[....................................|...............................................................] 37.14%'
3080s	 '[..................................|.................................................................] 35.43%'
3220s	 '[.................................|..................................................................] 33.80%'
3360s	 '[...............................|....................................................................] 32.24%'
3500s	 '[..............................|.....................................................................] 30.76%'
3640s	 '[............................|.......................................................................] 29.34%'
3780s	 '[...........................|........................................................................] 27.99%'
3920s	 '[..........................|.........................................................................] 26.70%'
4060s	 '[........................|...........................................................................] 25.47%'
4200s	 '[.......................|............................................................................] 24.30%'
4340s	 '[......................|.............................................................................] 23.18%'
4480s	 '[.....................|..............................................................................] 22.11%'
4620s	 '[....................|...............................................................................] 21.09%'
4760s	 '[...................|................................................................................] 20.12%'
4900s	 '[..................|.................................................................................] 19.19%'
5040s	 '[.................|..................................................................................] 18.31%'
5180s	 '[................|...................................................................................] 17.47%'
5320s	 '[................|...................................................................................] 16.66%'
5460s	 '[...............|....................................................................................] 15.89%'
5600s	 '[..............|.....................................................................................] 15.16%'
5740s	 '[.............|......................................................................................] 14.46%'
5880s	 '[.............|......................................................................................] 13.80%'
6020s	 '[............|.......................................................................................] 13.16%'
6160s	 '[............|.......................................................................................] 12.55%'
6300s	 '[...........|........................................................................................] 11.98%'
6440s	 '[..........|.........................................................................................] 11.42%'
6580s	 '[..........|.........................................................................................] 10.90%'
6720s	 '[.........|..........................................................................................] 10.40%'
6860s	 '[.........|..........................................................................................] 9.92%'
7000s	 '[........|...........................................................................................] 9.46%'
7140s	 '[........|...........................................................................................] 9.02%'
    ✓ local price_formula(t) monotonically decreases over time t (low complexity) (61ms)
0s	 '[...................................................................................................|] 100.00%'
140s	 '[...............................................................................................|....] 95.50%'
280s	 '[..........................................................................................|.........] 91.20%'
420s	 '[......................................................................................|.............] 86.86%'
560s	 '[..................................................................................|.................] 82.95%'
700s	 '[..............................................................................|.....................] 79.01%'
840s	 '[..........................................................................|.........................] 75.45%'
980s	 '[.......................................................................|............................] 71.86%'
1120s	 '[....................................................................|...............................] 68.63%'
1260s	 '[.................................................................|..................................] 65.54%'
1400s	 '[.............................................................|......................................] 62.43%'
1540s	 '[...........................................................|........................................] 59.62%'
1680s	 '[........................................................|...........................................] 56.78%'
1820s	 '[.....................................................|..............................................] 54.23%'
1960s	 '[...................................................|................................................] 51.65%'
2100s	 '[................................................|...................................................] 49.32%'
2240s	 '[..............................................|.....................................................] 47.10%'
2380s	 '[............................................|.......................................................] 44.86%'
2520s	 '[..........................................|.........................................................] 42.84%'
2660s	 '[........................................|...........................................................] 40.81%'
2800s	 '[......................................|.............................................................] 38.97%'
2940s	 '[....................................|...............................................................] 37.22%'
3080s	 '[..................................|.................................................................] 35.45%'
3220s	 '[.................................|..................................................................] 33.85%'
3360s	 '[...............................|....................................................................] 32.24%'
3500s	 '[..............................|.....................................................................] 30.79%'
3640s	 '[............................|.......................................................................] 29.40%'
3780s	 '[...........................|........................................................................] 28.01%'
3920s	 '[..........................|.........................................................................] 26.75%'
4060s	 '[........................|...........................................................................] 25.47%'
4200s	 '[.......................|............................................................................] 24.33%'
4340s	 '[......................|.............................................................................] 23.17%'
4480s	 '[.....................|..............................................................................] 22.13%'
4620s	 '[....................|...............................................................................] 21.13%'
4760s	 '[...................|................................................................................] 20.13%'
4900s	 '[..................|.................................................................................] 19.22%'
5040s	 '[.................|..................................................................................] 18.31%'
5180s	 '[................|...................................................................................] 17.48%'
5320s	 '[................|...................................................................................] 16.70%'
5460s	 '[...............|....................................................................................] 15.90%'
5600s	 '[..............|.....................................................................................] 15.19%'
5740s	 '[.............|......................................................................................] 14.46%'
5880s	 '[.............|......................................................................................] 13.81%'
6020s	 '[............|.......................................................................................] 13.15%'
6160s	 '[............|.......................................................................................] 12.56%'
6300s	 '[...........|........................................................................................] 12.00%'
6440s	 '[..........|.........................................................................................] 11.43%'
6580s	 '[..........|.........................................................................................] 10.91%'
6720s	 '[.........|..........................................................................................] 10.39%'
6860s	 '[.........|..........................................................................................] 9.93%'
7000s	 '[........|...........................................................................................] 9.48%'
7140s	 '[........|...........................................................................................] 9.03%'
    ✓ price(t) monotonically decreases over time t (low complexity)
0s	 '[...................................................................................................|] 100.00%' remote; local: '100.00%' ('0.00%' error)
140s	 '[...............................................................................................|....] 95.50%' remote; local: '95.39%' ('0.11%' error)
280s	 '[..........................................................................................|.........] 91.20%' remote; local: '91.00%' ('0.22%' error)
420s	 '[......................................................................................|.............] 86.86%' remote; local: '86.80%' ('0.06%' error)
560s	 '[..................................................................................|.................] 82.95%' remote; local: '82.81%' ('0.17%' error)
700s	 '[..............................................................................|.....................] 79.01%' remote; local: '78.99%' ('0.02%' error)
840s	 '[..........................................................................|.........................] 75.45%' remote; local: '75.35%' ('0.13%' error)
980s	 '[.......................................................................|............................] 71.86%' remote; local: '71.88%' ('0.02%' error)
1120s	 '[....................................................................|...............................] 68.63%' remote; local: '68.57%' ('0.08%' error)
1260s	 '[.................................................................|..................................] 65.54%' remote; local: '65.41%' ('0.19%' error)
1400s	 '[.............................................................|......................................] 62.43%' remote; local: '62.40%' ('0.04%' error)
1540s	 '[...........................................................|........................................] 59.62%' remote; local: '59.53%' ('0.15%' error)
1680s	 '[........................................................|...........................................] 56.78%' remote; local: '56.78%' ('0.00%' error)
1820s	 '[.....................................................|..............................................] 54.23%' remote; local: '54.17%' ('0.10%' error)
1960s	 '[...................................................|................................................] 51.65%' remote; local: '51.67%' ('0.05%' error)
2100s	 '[................................................|...................................................] 49.32%' remote; local: '49.29%' ('0.06%' error)
2240s	 '[..............................................|.....................................................] 47.10%' remote; local: '47.02%' ('0.17%' error)
2380s	 '[............................................|.......................................................] 44.86%' remote; local: '44.86%' ('0.01%' error)
2520s	 '[..........................................|.........................................................] 42.84%' remote; local: '42.79%' ('0.12%' error)
2660s	 '[........................................|...........................................................] 40.81%' remote; local: '40.82%' ('0.03%' error)
2800s	 '[......................................|.............................................................] 38.97%' remote; local: '38.94%' ('0.08%' error)
2940s	 '[....................................|...............................................................] 37.22%' remote; local: '37.14%' ('0.19%' error)
3080s	 '[..................................|.................................................................] 35.45%' remote; local: '35.43%' ('0.03%' error)
3220s	 '[.................................|..................................................................] 33.85%' remote; local: '33.80%' ('0.14%' error)
3360s	 '[...............................|....................................................................] 32.24%' remote; local: '32.24%' ('0.01%' error)
3500s	 '[..............................|.....................................................................] 30.79%' remote; local: '30.76%' ('0.10%' error)
3640s	 '[............................|.......................................................................] 29.40%' remote; local: '29.34%' ('0.21%' error)
3780s	 '[...........................|........................................................................] 28.01%' remote; local: '27.99%' ('0.05%' error)
3920s	 '[..........................|.........................................................................] 26.75%' remote; local: '26.70%' ('0.16%' error)
4060s	 '[........................|...........................................................................] 25.47%' remote; local: '25.47%' ('0.00%' error)
4200s	 '[.......................|............................................................................] 24.33%' remote; local: '24.30%' ('0.12%' error)
4340s	 '[......................|.............................................................................] 23.17%' remote; local: '23.18%' ('0.03%' error)
4480s	 '[.....................|..............................................................................] 22.13%' remote; local: '22.11%' ('0.07%' error)
4620s	 '[....................|...............................................................................] 21.13%' remote; local: '21.09%' ('0.18%' error)
4760s	 '[...................|................................................................................] 20.13%' remote; local: '20.12%' ('0.02%' error)
4900s	 '[..................|.................................................................................] 19.22%' remote; local: '19.19%' ('0.14%' error)
5040s	 '[.................|..................................................................................] 18.31%' remote; local: '18.31%' ('0.01%' error)
5180s	 '[................|...................................................................................] 17.48%' remote; local: '17.47%' ('0.09%' error)
5320s	 '[................|...................................................................................] 16.70%' remote; local: '16.66%' ('0.20%' error)
5460s	 '[...............|....................................................................................] 15.90%' remote; local: '15.89%' ('0.04%' error)
5600s	 '[..............|.....................................................................................] 15.19%' remote; local: '15.16%' ('0.16%' error)
5740s	 '[.............|......................................................................................] 14.46%' remote; local: '14.46%' ('0.00%' error)
5880s	 '[.............|......................................................................................] 13.81%' remote; local: '13.80%' ('0.11%' error)
6020s	 '[............|.......................................................................................] 13.15%' remote; local: '13.16%' ('0.04%' error)
6160s	 '[............|.......................................................................................] 12.56%' remote; local: '12.55%' ('0.07%' error)
6300s	 '[...........|........................................................................................] 12.00%' remote; local: '11.98%' ('0.18%' error)
6440s	 '[..........|.........................................................................................] 11.43%' remote; local: '11.42%' ('0.02%' error)
6580s	 '[..........|.........................................................................................] 10.91%' remote; local: '10.90%' ('0.13%' error)
6720s	 '[.........|..........................................................................................] 10.39%' remote; local: '10.40%' ('0.02%' error)
6860s	 '[.........|..........................................................................................] 9.93%' remote; local: '9.92%' ('0.09%' error)
7000s	 '[........|...........................................................................................] 9.48%' remote; local: '9.46%' ('0.20%' error)
7140s	 '[........|...........................................................................................] 9.03%' remote; local: '9.02%' ('0.04%' error)
maximum error: '0.23%'
    ✓ maximum exp/sol (JS/Solidity) price(t) difference is at most 0.5% (low complexity) (47ms)
0s	 '[...................................................................................................|] 100.00%' remote; local: '100.00%' ('0.00%' error)
840s	 '[..........................................................................|.........................] 75.45%' remote; local: '75.36%' ('0.12%' error)
1680s	 '[........................................................|...........................................] 56.78%' remote; local: '56.79%' ('0.02%' error)
2520s	 '[..........................................|.........................................................] 42.84%' remote; local: '42.80%' ('0.10%' error)
3360s	 '[...............................|....................................................................] 32.24%' remote; local: '32.25%' ('0.04%' error)
4200s	 '[.......................|............................................................................] 24.33%' remote; local: '24.31%' ('0.08%' error)
5040s	 '[.................|..................................................................................] 18.31%' remote; local: '18.32%' ('0.06%' error)
5880s	 '[.............|......................................................................................] 13.81%' remote; local: '13.80%' ('0.06%' error)
6720s	 '[.........|..........................................................................................] 10.39%' remote; local: '10.40%' ('0.08%' error)
maximum error: '0.12%'
    ✓ maximum percent/sol (JS/Solidity) price(t) difference is at most 0.5% (low complexity)
    when sale is deployed
checking JavaScript price_formula_sol(0-7200) matches Solidity LandSale.price(0-7200)
[.......................................................................................................]
      ✓ The JavaScript price_formula_sol() matches the Solidity LandSale.price() (low complexity) (7901ms)
      when sale is initialized (token price calculation)
        ✓ tokenPriceAt() throws before sale has started (54ms)
        ✓ tokenPriceAt() throws after sale has ended
        ✓ tokenPriceAt() throws before sequence has started
        ✓ tokenPriceAt() throws after sequence has ended
        ✓ tokenPriceAt() throws for a tier with no initial price set
        ✓ tokenPriceAt() is equal to the start price for zero time offset (6951ms)
        ✓ tokenPriceAt() is equal to the half of the start price for halving time offset (6255ms)
sequenceId: 0, tierId: 2, t: 1-7200
[.......................................................................................................]
        ✓ tokenPriceAt() decreases only when time_flow_quantum passes (low complexity) (9229ms)

  Contract: LandSale: Prototype Test
    after Merkle root is registered
      ✓ random plot 14630 is registered on sale
      after sale is initialized
        random plot 14630 in tier 5
          can be bought with ETH
            ✓ "PlotBoughtL1" event is emitted
            ✓ LandERC721 token gets minted (ERC721 Transfer event)
            ✓ minted LandERC721 token metadata is as expected
          can be bought with sILV
            ✓ "PlotBoughtL1" event is emitted
            ✓ LandERC721 token gets minted (ERC721 Transfer event)
            ✓ minted LandERC721 token metadata is as expected

  Contract: LandSale: 10,000 Sale Simulation
10	tokens bought: ['       .... .     . .    .    . ']; '0.222393137393'	ETH spent: ['       .... .     * ^    .    . ']; '0'	sILV spent: ['                                ']
20	tokens bought: ['. . .  ......  .  . ..   ..  .. ']; '0.225790252477'	ETH spent: ['. . .  ......  .  * ^    ..  .. ']; '0.327373489953'	sILV spent: ['                     *          ']
30	tokens bought: ['.....  ......  . .....   ... .. ']; '0.382308691458'	ETH spent: ['...^.  ......  . .*.^    ^.. .. ']; '0.327373489953'	sILV spent: ['                     *          ']
40	tokens bought: ['+....  ......  ........  ... ...']; '0.466195083746'	ETH spent: ['...^.  ...^..  ...*.^ .  ^.. ...']; '0.327600631836'	sILV spent: ['.                    *          ']
50	tokens bought: ['+.... .+....+ .......... ... ...']; '0.526990233264'	ETH spent: ['..+^. .^..^.. ....*.^ .. ^.. ...']; '0.327600631836'	sILV spent: ['.                    *          ']
60	tokens bought: ['+.... .+....+ ...........+.. ...']; '0.623274420725'	ETH spent: ['..+^. .^.+^.. ....*.^ ^..^.. ...']; '0.517058229994'	sILV spent: ['.^                   *          ']
70	tokens bought: ['+.... .+....+............+.. ...']; '0.68411729886'	ETH spent: ['..+^. .^++^.......*.^ ^..^+. ...']; '0.517058229994'	sILV spent: ['.^                   *          ']
80	tokens bought: ['+.+.. .++.+.+............+.. ...']; '0.753665498481'	ETH spent: ['..+^. .^+^^.......^.* ^..^+. ...']; '0.517198127962'	sILV spent: ['.^      .            *          ']
90	tokens bought: ['+.+.. .++.+.+.........+..+.. ...']; '0.959651570155'	ETH spent: ['...+. .*.++.......^.^ ^..++. ...']; '0.894066963768'	sILV spent: ['.^      .            ^   *      ']
100	tokens bought: ['+.+.. .++.+.+.........++.+.+ ...']; '1.060934427678'	ETH spent: ['..^+. .*+++.......^.^ ^..++. ...']; '0.926102818882'	sILV spent: ['.^      .            ^   * .    ']
110	tokens bought: ['+.+.. .++.+.+......+..++.+.+ .+.']; '1.359388628321'	ETH spent: ['..++. .*.++......++.+ ^..^+. +..']; '0.926134253271'	sILV spent: ['.^      .   .        ^   * .    ']
120	tokens bought: ['+.+.. .++.+.+......+..++.+.+ .+.']; '1.49046448398'	ETH spent: ['..++. .*.++......++.++^..^+. +.+']; '1.177891141181'	sILV spent: ['.^^     .   .        ^   * .    ']
130	tokens bought: ['+++.. +++.+.+....+.+..++.+.+..+.']; '1.609407884074'	ETH spent: ['..+++ .*.++..+...++.++^..^+..+.+']; '1.177891141181'	sILV spent: ['.^^     .   .        ^   * .    ']
140	tokens bought: ['+++...+++++.++..++.+..++.+.+.++.']; '1.711744458456'	ETH spent: ['..+++..*.++..++..++.++^..^+..+.+']; '1.177891141181'	sILV spent: ['.^^     .   .        ^   * .    ']
150	tokens bought: ['+++.+.+++++.++.+++++..++.+.+.++.']; '1.842559309247'	ETH spent: ['+.+++..*.++..+++.+^.++^..^+..+.+']; '1.177891141181'	sILV spent: ['.^^     .   .        ^   * .    ']
160	tokens bought: ['+++.+.+++++.++.+++++..++.+++.++.']; '1.885516879579'	ETH spent: ['+++++..*.++..+++.+^.++^..^+..+.+']; '1.178028412598'	sILV spent: ['.^^     .   .        ^   * .  . ']
170	tokens bought: ['+++.+.+++++.+++++++++.++.+++.++.']; '1.92385147112'	ETH spent: ['+++++..*.++..+++.+^.++^..^+..+.+']; '1.225043121589'	sILV spent: ['.^^     .   . . +   .^   * .  . ']
180	tokens bought: ['+++.+.+++++.+++++++++.++++++.++.']; '2.295506162716'	ETH spent: ['+++++..*+++..+++.+^.++^.+^+..+.+']; '1.262730005169'	sILV spent: ['.^^     .   . . +   .^   * .  . ']
190	tokens bought: ['+++.+.++++++++++++++++++++++.++.']; '2.385789224754'	ETH spent: ['+++++..*+++..+++.+^.++^.+^+..+.+']; '1.262730005169'	sILV spent: ['.^^     .   . . +   .^   * .  . ']
200	tokens bought: ['+++.+.++++++++++++++++++++++.++.']; '2.516907508571'	ETH spent: ['++++++.*+++.++++.+^.++^.+^+..+.+']; '1.315734181476'	sILV spent: ['.^^    +.   . . +   .^   * .  . ']
210	tokens bought: ['+++.+.++++++++++++++++++++++.+++']; '2.582658367024'	ETH spent: ['++++++.*+++.++++.+^.++^.+^+..+.^']; '1.318195070603'	sILV spent: ['.^^    +.  .. . +   .^   * .  . ']
220	tokens bought: ['+++++.++++++++++++++++++++++.+++']; '2.644420775803'	ETH spent: ['++++++.*+++.++++.+^.++^.+^+..+.^']; '1.318195070603'	sILV spent: ['.^^    +.  .. . +   .^   * .  . ']
230	tokens bought: ['+++++.+^++++++++++++++++++++.+++']; '2.778535991597'	ETH spent: ['++++++.*+++.++++.+^.++^.+^++.+.+']; '1.485919606305'	sILV spent: ['.+*    +.  .. . .   .^   ^ .  . ']
240	tokens bought: ['+++++++^++++++++++++++++++++.+++']; '2.830147588262'	ETH spent: ['++++++.*+++.++++.+^.++^.+^++.+.+']; '1.485919606305'	sILV spent: ['.+*    +.  .. . .   .^   ^ .  . ']
250	tokens bought: ['+++++++^++++++++++++++++++++++++']; '2.849892577886'	ETH spent: ['++++++.*+++.++++.+^.++^.+^++.+.+']; '1.485919606305'	sILV spent: ['.+*    +.  .. . .   .^   ^ .  . ']
260	tokens bought: ['+++++++^++++++++++++++++++++++++']; '3.147042844234'	ETH spent: ['+.++++.*+++.++++.+^.++^.++.+.+.^']; '1.522106537093'	sILV spent: ['.+*    +.  .... .   .^   ^ .  . ']
270	tokens bought: ['+++++++^++++++++++++++++++++++++']; '3.242429312726'	ETH spent: ['+.++++.*+++.++++.+^.++^.++.+.+.^']; '1.556200853286'	sILV spent: ['.+*    +.  .... .   .^   ^ .  . ']
280	tokens bought: ['+++++++^++++++++++++++++++++++++']; '3.397291031283'	ETH spent: ['+.++++.*+++.++++.+^.++^.++++.+.^']; '1.556200853286'	sILV spent: ['.+*    +.  .... .   .^   ^ .  . ']
290	tokens bought: ['+++++++^++++++++++++++++++++++++']; '3.578142724672'	ETH spent: ['+.++++.*+++.++++.+^.++^.++++++.^']; '1.556200853286'	sILV spent: ['.+*    +.  .... .   .^   ^ .  . ']
300	tokens bought: ['+++++++^++++++++++++++++++++++++']; '3.647727896778'	ETH spent: ['++++++.*+++.++++.+^.++^.++++++.^']; '1.575931917208'	sILV spent: ['.+*    +.  .... .   .^   ^ .  . ']
310	tokens bought: ['+++++++^++++++++++++++++++++++++']; '3.747662621355'	ETH spent: ['++++++.*+++.++++.+^.++^.++++++.^']; '1.57611383432'	sILV spent: ['.+*    +.  .... .   .^   ^ .  . ']
320	tokens bought: ['+++++++^+++++++++++++++++^++++++']; '3.943127833424'	ETH spent: ['++++++.*+++.++++.+^.++^.+^++++.^']; '1.591287424732'	sILV spent: ['.+*    +.  .... .   .^   ^ .  . ']
330	tokens bought: ['+++++++^+++++++++++++++++^++++++']; '4.011097888011'	ETH spent: ['++++++.*+++.++++.+^.++^.+^++++.^']; '1.73157651784'	sILV spent: ['.+*    +.  .... +   .^   ^ . +. ']
340	tokens bought: ['++^++++^+++++++++++++++++^++++++']; '4.145506464149'	ETH spent: ['++++++.*+++.++++.+^.++^.+^++++.^']; '1.732765724955'	sILV spent: ['.+*    +.  .... +   .^   ^ . +. ']
350	tokens bought: ['++^++++^+++++++++++++++++^++++++']; '4.241776940218'	ETH spent: ['++++++.^+++.++++.+^.++^.+^++++.*']; '1.732765724955'	sILV spent: ['.+*    +.  .... +   .^   ^ . +. ']
360	tokens bought: ['++^++++^+++++++++++++++++^++++++']; '4.481751320992'	ETH spent: ['.+++++.*+++.++++.+^.+++++^.+++.^']; '1.76039109564'	sILV spent: ['.+*    +.  .....+   .^   ^ . +. ']
370	tokens bought: ['++^++++^+++++++++++++++++^++++++']; '4.568210414679'	ETH spent: ['++++++.*+++.++++.+^.+++++^.+++.^']; '1.810222182434'	sILV spent: ['.+*   .+.  .....+   .^   ^ . +. ']
380	tokens bought: ['++^++++^+++^+++++++++++++^++++++']; '4.74228092'	ETH spent: ['++++++.*+++.++++.+^.+++++^.+++.^']; '1.8124031979'	sILV spent: ['.+*   .+.  .....+   .^   ^ . +. ']
390	tokens bought: ['++^++++^+++^+++++++++++++^++++++']; '4.847767528381'	ETH spent: ['++++++.*+++.++++.+^.+++++^++++.^']; '1.812585115011'	sILV spent: ['.+*   .+.  .....+   .^   ^ . +. ']
400	tokens bought: ['++^++++^+++^+++++++++++++^++++++']; '4.891726071892'	ETH spent: ['++++++.*+++.++++.+^.+++++^++++.^']; '1.812585115011'	sILV spent: ['.+*   .+.  .....+   .^   ^ . +. ']
410	tokens bought: ['++^++++^+++^++++++++++^++^++++++']; '4.930172739627'	ETH spent: ['++++++.*+++.++++.+^.++^++^++++.^']; '1.813971009972'	sILV spent: ['.+*  ..+.  .....+.  .^   ^ . +. ']
420	tokens bought: ['++^++++^+++^++++++++++^++^+++++^']; '5.059463833091'	ETH spent: ['++++++.*+++.++++.+^.++^++^++++.^']; '1.81765894311'	sILV spent: ['.+*  ..+.  .....+.  .^   ^ . +. ']
430	tokens bought: ['++^++++^+++^++++++^+++^++^+++++^']; '5.337073544098'	ETH spent: ['++++++.*+++.++++++^.++^++^++++.^']; '1.821694343015'	sILV spent: ['.+*  ..+.  .....+.. .^   ^ . +. ']
440	tokens bought: ['++^++++^+++^++++++^+++^++^+^+++^']; '5.411748804847'	ETH spent: ['++++++.*+++.++++++^.++^++^++++.^']; '1.853158269164'	sILV spent: ['.+*  ..+.  .....+.. .^   ^ . +. ']
450	tokens bought: ['++^++++^+++^++++++^+++^++^+^+++^']; '5.612163981096'	ETH spent: ['+++++++*+++.++++++^.++^++^++++.^']; '1.878601166982'	sILV spent: ['.+*  ..+.. .....+.. .^   ^ . +. ']
460	tokens bought: ['++^++++^+++^++++++^+++^++^+^+^+^']; '5.734000000532'	ETH spent: ['+++++++*+++.++++++^.++^+++++++.^']; '1.878601166982'	sILV spent: ['.+*  ..+.. .....+.. .^   ^ . +. ']
470	tokens bought: ['++^++++^^++^++++++^+++^++^+^+^+^']; '5.839753331304'	ETH spent: ['+++++++*+++.++++++^.++^+++++++.^']; '1.878601166982'	sILV spent: ['.+*  ..+.. .....+.. .^   ^ . +. ']
480	tokens bought: ['++^++++^^++^++++++^+++^++^+^+^+^']; '5.886429047613'	ETH spent: ['+++++++*+++.++++++^.++^+++++++.^']; '1.878930482939'	sILV spent: ['.+*  ..+.. .....+.. .^  .^ . +. ']
490	tokens bought: ['++^++++^^++^++++++^+++^++^+^+^+^']; '5.997199868683'	ETH spent: ['+++++++*+++.++++++^.++^+++++++.^']; '1.878930482939'	sILV spent: ['.+*  ..+.. .....+.. .^  .^ . +. ']
500	tokens bought: ['^+^++++^^++^++++^+^+++^++^+^+^+^']; '6.098564900064'	ETH spent: ['+++++++*+++.++++++^.++^+++++++.^']; '1.878930482939'	sILV spent: ['.+*  ..+.. .....+.. .^  .^ . +. ']
510	tokens bought: ['^+^+++^^^++^++++^^^+++^++^+^+^+^']; '6.295962953614'	ETH spent: ['+++++++*+++.++++++^.++^+++++++.^']; '1.879271426101'	sILV spent: ['.+*  ..+.. .....+.. .^  .^ . +. ']
520	tokens bought: ['^+^+++^^^++^++++^^^+++^++^+^+^+^']; '6.375773919587'	ETH spent: ['+++++++*+++.++++++^.++^+++++++.^']; '1.90880794902'	sILV spent: ['.+*  ..+.. .....+.. .^. .^ . +. ']
530	tokens bought: ['^^^+++^^^++^^+++^^^+++^++^+^+^+^']; '6.455990617615'	ETH spent: ['+++++++*+++.+++++^^.++^+++++++.^']; '1.909070141262'	sILV spent: ['.+*  ..+.. .....+.. .^. .^ . +. ']
540	tokens bought: ['^^^+++^^^++^^+++^^^+++^++^+^+^+^']; '6.522572038423'	ETH spent: ['+++++++*+++.+++++^^.++^+++++++.^']; '2.141432145925'	sILV spent: ['.+*  ..+.. .....+.. .^. .^ . +.+']
550	tokens bought: ['^^^+++^^^++^^+++^^^+++^++^+^+^+^']; '6.770514538144'	ETH spent: ['+++++++*+++.+++++^^.++^++++++++^']; '2.163057785829'	sILV spent: ['.+* ...+.. .....+.. .^. .^ . +.+']
560	tokens bought: ['^^^+++^^^++^^+++^^^+++^^+^+^+^^^']; '6.821305453158'	ETH spent: ['+++++++*+++.+++++^^.++^++++++++^']; '2.18124949695'	sILV spent: ['.+* ...+.. .....+.. .^. .^ . +.+']
570	tokens bought: ['^^^+++^^^++^^+++^^^+++^^+^+^+^^^']; '6.940038683881'	ETH spent: ['+++++++*+++.+++++^^.++^++++++++^']; '2.196436814504'	sILV spent: ['.+* ...+.. .....+.. .^. .^ . +.+']
580	tokens bought: ['^^^++^^^^++^^++^^^^+++^^+^+^+^^^']; '7.011517199299'	ETH spent: ['++^++++*+++++++++^^.++^++++++++^']; '2.209106190446'	sILV spent: ['.+* ...+.. .....+.. .^. .^ . +.+']
590	tokens bought: ['^^^++^^^^++^^++^^^^+++^^+^+^+^^^']; '7.150873045692'	ETH spent: ['++^++++*+++++++++^^.++^++++++++^']; '2.209106190446'	sILV spent: ['.+* ...+.. .....+.. .^. .^ . +.+']
600	tokens bought: ['^^^++^^^^++^^++^^^^+++^^+^+^+^^^']; '7.237775353499'	ETH spent: ['++^++++*+++++++++^^.++^++++++++^']; '2.523450086704'	sILV spent: ['.+* ...+..^.....+.. .^. .^ . +.+']
610	tokens bought: ['^^^++^^^^++^^++^^^^+++^^+^+^+^^^']; '7.37950839763'	ETH spent: ['++^++++*+++++++++^^.++^++++++++^']; '2.524051344587'	sILV spent: ['.+* ...+..^.....+.. .^. .^ ..+.+']
620	tokens bought: ['^^^++^^^^++^^++^^^^+++^^+^+^+^^^']; '7.525653094663'	ETH spent: ['++^++++*+++++++++^^.++^++++++++^']; '2.756166986992'	sILV spent: ['.+* ...+..^.....+.. .^. .^ ..^.+']
630	tokens bought: ['^^^++^^^^++^^++^^^^+++^^+^+^+^^^']; '7.530953572265'	ETH spent: ['++^++++*+++++++++^^.++^++++++++^']; '2.756392207246'	sILV spent: ['.+* ...+..^.....+.. .^. .^ ..^.+']
640	tokens bought: ['^^*++^^*^++^^++^^^^+++^^+^+^+^^^']; '7.589101985161'	ETH spent: ['++^++++*+++++++++^^.++^++++++++^']; '2.774583918368'	sILV spent: ['.+* ...+..^.....+.. .^. .^ ..^.+']
650	tokens bought: ['^^*++^^*^++^^++^^^^+++^^+^+^+^^^']; '7.605300179224'	ETH spent: ['++^++++*+++++++++^^.++^++++++++^']; '3.075585802062'	sILV spent: ['.+* ...+..^.....+..+.^. .^ ..^.+']
660	tokens bought: ['^^*++^^*^++^^+^^^^^+++^^+^+^+^^^']; '7.649252973542'	ETH spent: ['++^++++*+++++++++^^.++^++++++++^']; '3.076958516227'	sILV spent: ['.+* ...+..^.....+..+.^. .^ ..^.+']
670	tokens bought: ['^^*+^^^*^++^^+^^^^^+++^^+^+^+^^^']; '7.708912021345'	ETH spent: ['++^++++*+++++++++^^.++^++++++++^']; '3.077320385535'	sILV spent: ['.+* ...+..^.....+..+.^. .^ ..^.+']
680	tokens bought: ['^^*+^^^*^++^^+^^^^^+++^^+^+^^^^^']; '8.044628449205'	ETH spent: ['++^++++*+++++++++^^.+^^++++^+^+^']; '3.077320385535'	sILV spent: ['.+* ...+..^.....+..+.^. .^ ..^.+']
690	tokens bought: ['^^*+^^^*^++^^+^^^^^+++^^+^+^^^^^']; '8.075054134597'	ETH spent: ['++^++++*+++++++++^^.+^^++++^+^+^']; '3.077320385535'	sILV spent: ['.+* ...+..^.....+..+.^. .^ ..^.+']
700	tokens bought: ['^^!+^^^*^++^^+^^^^^^^+^^+^+^^^^^']; '8.148135753673'	ETH spent: ['++^++++*^++++++++^^.+^^++++^+^+^']; '3.124424200938'	sILV spent: ['.+* ...+..^.....+..+.^. .^ ..^.+']
710	tokens bought: ['^^!+^^^*^++^^+^^^^^^^+^^+!+^^^^^']; '8.164312736186'	ETH spent: ['++^++++*^++++++++^^.+^^++++^+^+^']; '3.124424200938'	sILV spent: ['.+* ...+..^.....+..+.^. .^ ..^.+']
720	tokens bought: ['^^!^^^^!^++^^^^^^^^^^^^^+!+^^^^^']; '8.223755684372'	ETH spent: ['++^++++*^++++++++^^.+^^++++^+^+^']; '3.124424200938'	sILV spent: ['.+* ...+..^.....+..+.^. .^ ..^.+']
730	tokens bought: ['^^!^^^^!^^+^^^^^^^^^^^^^^!+^^^^^']; '8.269613577753'	ETH spent: ['++^++++*^++++++++^^.+^^+^++^+^+^']; '3.124424200938'	sILV spent: ['.+* ...+..^.....+..+.^. .^ ..^.+']
740	tokens bought: ['^^!^^^^!*^+^^^^^^^^^^^^^^!+^^^^^']; '8.277354138645'	ETH spent: ['++^++++*^++++++++^^.+^^+^++^+^+^']; '3.138413997663'	sILV spent: ['.+*....+..^.....+..+.^. .^ ..^.+']
750	tokens bought: ['^^!^^^^!*^+^^^^^^^^^^^*^^!+^^^^^']; '8.373203475121'	ETH spent: ['++^++++*^++++++++^^.+^^+^++^+^+^']; '3.139615860973'	sILV spent: ['.+*....+..^.....+..+.^. .^ ..^.+']
760	tokens bought: ['^^!^^^^!*^+^^^^^^^^^^^*^^!+^^^^^']; '8.72405438136'	ETH spent: ['++^++++*^++++++++^^++^^+^++^+^+^']; '3.139615860973'	sILV spent: ['.+*....+..^.....+..+.^. .^ ..^.+']
770	tokens bought: ['^^!^^^^!!^+^^^^^^^^^^^*^^!+^^^^^']; '8.888274693609'	ETH spent: ['++^++++*^++++++++^^++^^+^++^+^+^']; '3.139615860973'	sILV spent: ['.+*....+..^.....+..+.^. .^ ..^.+']
780	tokens bought: ['^^!^^^^!!^+^^^^^^^^^^^!^^!+^^^^^']; '8.981692737961'	ETH spent: ['++^++++*^++++++++^^++^^+^++^+^+^']; '3.139615860973'	sILV spent: ['.+*....+..^.....+..+.^. .^ ..^.+']
790	tokens bought: ['^^!^^^^!!^+^^^^^^^^^^^!^^!^^^^^^']; '9.167875762002'	ETH spent: ['++^^+++*^++++++++^^++^^+^++^+^+^']; '3.16101653521'	sILV spent: ['.+*....+..^.....+..+.^. .^ ..^.+']
800	tokens bought: ['^^!^^^^!!^+^^^^^^^^^^^!^^!^^^^^^']; '9.23088251218'	ETH spent: ['++^^+^+*^++++++++^^++^^+^++^+^+^']; '3.162801551821'	sILV spent: ['.+*....+..^.....+..+.^. .^ ..^.+']
810	tokens bought: ['^^!^^^^!!^^^^^^^^^^^^^!^^!^^^^^^']; '9.332004679652'	ETH spent: ['++^^+^+*^++++++++^^++^^+^++^+^+^']; '3.162801551821'	sILV spent: ['.+*....+..^.....+..+.^. .^ ..^.+']
820	tokens bought: ['^^!^^^^!!^^^^^^^^^^^^^!^^!^^^^^^']; '9.382526493565'	ETH spent: ['++^^+^+*^++++++++^^++^^+^++^+^+^']; '3.300087538005'	sILV spent: ['.+*....+..^.....+..+.^. .^ +.^.+']
830	tokens bought: ['^^!^^^^!!^^*^^^^^^^^^^!^^!^^^^^^']; '9.457336570886'	ETH spent: ['++^^+^+*^++++++++^^++^^+^++^+^+^']; '3.300087538005'	sILV spent: ['.+*....+..^.....+..+.^. .^ +.^.+']
840	tokens bought: ['^^!^^^^!!^^*^^^^^^^^^^!^^!^^^^^^']; '9.593381909823'	ETH spent: ['++^^+^+*^+++++^++^^++^^+^++^+^+^']; '3.300087538005'	sILV spent: ['.+*....+..^.....+..+.^. .^ +.^.+']
850	tokens bought: ['^^!^^^^!!^^!^^^^^^^^^^!^^!^^^^^^']; '9.74972935066'	ETH spent: ['++^^+^+*^+++++^++^^++^^+^++^+^+^']; '3.300421175458'	sILV spent: ['.+*....+..^.....+..+.^. .^ +.^.+']
860	tokens bought: ['^^!^^^^!!^^!^^^^^^^^^^!^^!^^^^*^']; '9.962016936726'	ETH spent: ['++^^+^+*^+++++^++^^++^^+^++^+^+^']; '3.300447394683'	sILV spent: ['.+*....+..^.....+..+.^. .^ +.^.+']
870	tokens bought: ['^^!^^^^!!^^!^^^^^^^^^^!^^!^^^^*^']; '10.089187691833'	ETH spent: ['++^^+^+*^+++++^++^^++^^+^++^+^+^']; '3.300447394683'	sILV spent: ['.+*....+..^.....+..+.^. .^ +.^.+']
880	tokens bought: ['^^!^^^^!!^^!^^^^^^^^^^!^^!^^^^*^']; '10.201612131776'	ETH spent: ['++^^+^+*^+++++^++^^++^^+^++^+^+^']; '3.512643631756'	sILV spent: ['.+*....+..^.....+..+.^.+.^ +.^.+']
890	tokens bought: ['^^!^^^^!!^^!^^^^^^^^^^!^^!^^^^*^']; '10.293889620236'	ETH spent: ['++^^+^+*^+++++^++^^++^^+^++^+^+^']; '3.512643631756'	sILV spent: ['.+*....+..^.....+..+.^.+.^ +.^.+']
900	tokens bought: ['^^!^^^^!!^^!^^^^^^^^^^!^^!^^^^!^']; '10.410763605255'	ETH spent: ['++^^+^+*^+++++^+^^^++^^+^++^+^+^']; '3.657109010175'	sILV spent: ['.+*....+..^+....+..+.^.+.^ +.^.+']
910	tokens bought: ['^^!^^^^!!^^!^^^^^^^^^^!^^!^^^*!^']; '10.485245262107'	ETH spent: ['++^^+^+*^+++++^+^^^++^^+^++^+^+^']; '3.657109010175'	sILV spent: ['.+*....+..^+....+..+.^.+.^ +.^.+']
920	tokens bought: ['^*!^^^^!!^^!^^^^*^^^^^!^^!^^^*!^']; '10.577797990357'	ETH spent: ['++^^+^+*^+++++^+^^^++^^+^++^+^+^']; '3.66855873162'	sILV spent: ['.+*....+..^+....+..+.^.+.^ +.^.+']
930	tokens bought: ['^*!^^^*!!^^!^^^^*^^^^^!^^!^^^*!^']; '10.914301011682'	ETH spent: ['++^++++^++++++^++^^++^*+^++^+^+^']; '3.66855873162'	sILV spent: ['.+*....+..^+....+..+.^.+.^ +.^.+']
940	tokens bought: ['^*!^^^*!!^^!*^^^*^^^^^!^^!^^^*!^']; '11.086891377322'	ETH spent: ['++^++++^++++++^++^^++^*+^++^+^+^']; '3.94161887506'	sILV spent: ['.+*....+..^+....+.^+.^.+.^ +.^.+']
950	tokens bought: ['*!!^^^*!!^^!*^^^*^^^^^!^^!^^^*!^']; '11.395232108793'	ETH spent: ['+++++++^+++.+++++^^++^*+^++^+^+^']; '3.94161887506'	sILV spent: ['.+*....+..^+....+.^+.^.+.^ +.^.+']
960	tokens bought: ['*!!^^^*!!^^!!^^^*^^^^^!^^!^^^*!^']; '11.416251306273'	ETH spent: ['+++++++^+++.+++++^^++^*+^++^+^+^']; '3.963019549297'	sILV spent: ['.+*....+..^+....+.^+.^.+.^ +.^.+']
970	tokens bought: ['*!!^^^*!!^^!!^^^*^!^^^!*^!^^^*!^']; '11.507925593316'	ETH spent: ['+++++++^+++.+++++^^++^*+^++^+^+^']; '3.963205449874'	sILV spent: ['.+*....+..^+....+.^+.^.+.^ +.^.+']
980	tokens bought: ['*!!^*^*!!^^!!^^^!^!^^^!*^!^^^!!^']; '11.58674553948'	ETH spent: ['+++++++^+++.+++++^^++^*+^++^+^+^']; '4.122687793694'	sILV spent: ['.+*....+..^+....+.^+.^.+.^++.^.+']
990	tokens bought: ['*!!^*^*!!^^!!^^^!^!^^^!*^!^^^!!^']; '11.690298470447'	ETH spent: ['+++++++^+++.+++++^^++^*+^++^+^+^']; '4.124005873295'	sILV spent: ['.+*....+..^+....+.^+.^.+.^++.^.+']
1000	tokens bought: ['*!!^*^*!!^^!!^^^!^!^^^!*^!^^^!!^']; '11.811452298342'	ETH spent: ['+++++++^+++++++++^^++^*+^^+^.^+^']; '4.12411791707'	sILV spent: ['.+*....+..^+....+.^+.^.+.^++.^.+']
Execution complete.
    ✓ 10,000 plots sale simulation (low complexity) (108731ms)

  Contract: LandSale: Business Logic Tests
    deployment / proxy initialization
      ✓ fails if target NFT contract is not set (237ms)
      ✓ fails if sILV contract is not set (538ms)
      ✓ fails if price oracle contract is not set (236ms)
      ✓ fails if target NFT contract doesn't have ERC721 interface (377ms)
      ✓ fails if target NFT contract doesn't have MintableERC721 interface (324ms)
      ✓ fails if target NFT contract doesn't have LandERC721Metadata interface (347ms)
      ✓ fails if sILV contract is not an ERC20 (balanceOf fails) (443ms)
      ✓ fails if sILV contract is not an ERC20 (zero transfer fails) (373ms)
      ✓ fails if sILV contract is not an ERC20 (zero transferFrom fails) (410ms)
      ✓ fails if price oracle contract doesn't have LandSaleOracle interface (526ms)
      succeeds otherwise
        ✓ target NFT contract gets set as expected
        ✓ sILV contract gets set as expected
        ✓ oracle contract gets set as expected
        ✓ input data Merkle root is not set
        ✓ saleStart is not set
        ✓ saleEnd is not set
        ✓ halvingTime is not set
        ✓ seqDuration is not set
        ✓ seqOffset is not set
        ✓ pausedAt is not set
        ✓ pauseDuration is not set
        ✓ startPrices are not set
        ✓ beneficiary is not set
        ✓ sale is not active
        ✓ current time func now32() behaves correctly
    when sale is deployed
      setting the input data root: setInputDataRoot()
        ✓ allows validating random plot data entry from the Merkle tree set: isPlotValid
        ✓ doesn't allow to buy a plot (inactive sale) (58ms)
      initialization and partial initialization: initialize()
        initialization: initialize()
          ✓ sets saleStart as expected
          ✓ sets saleEnd as expected
          ✓ sets halvingTime as expected
          ✓ sets timeFlowQuantum as expected
          ✓ sets seqDuration as expected
          ✓ sets seqOffset as expected
          ✓ sets startPrices as expected
          ✓ emits "Initialized" event
        partial initialization: initialize()
          ✓ when saleStart is "unset" (0xFFFFFFFF) it remains unchanged
          ✓ when saleEnd is "unset" (0xFFFFFFFF) it remains unchanged
          ✓ when halvingTime is "unset" (0xFFFFFFFF) it remains unchanged
          ✓ when timeFlowQuantum is "unset" (0xFFFFFFFF) it remains unchanged
          ✓ when seqDuration is "unset" (0xFFFFFFFF) it remains unchanged
          ✓ when seqOffset is "unset" (0xFFFFFFFF) it remains unchanged
          ✓ when startPrices is "unset" ([0xFFFFFFFFFFFFFFFFFFFFFFFF]) it remains unchanged
      setting the beneficiary: setBeneficiary()
        setting the beneficiary
          ✓ "BeneficiaryUpdated" event is emitted
          ✓ beneficiary set as expected
          updating the beneficiary
            ✓ "BeneficiaryUpdated" event is emitted
            ✓ beneficiary set as expected
          removing the beneficiary
            ✓ "BeneficiaryUpdated" event is emitted
            ✓ beneficiary set as expected
      rescuing ERC20 tokens lost in the sale smart contract
        once non-sILV ERC20 tokens are lost in the sale contract
          ✓ ERC20 "Transfer" event is emitted
          ✓ land sale contract balance increases as expected
          ✓ cannot rescue more than all the tokens
          can rescue all the tokens
            ✓ ERC20 "Transfer" event is emitted
            ✓ land sale contract balance decreases as expected
            ✓ token recipient balance increases as expected
          can rescue some tokens
            ✓ ERC20 "Transfer" event is emitted
            ✓ land sale contract balance decreases as expected
            ✓ token recipient balance increases as expected
        once sILV ERC20 tokens are lost in the sale contract
          ✓ ERC20 "Transfer" event is emitted
          ✓ land sale contract balance increases as expected
          ✓ can't rescue all the tokens
          ✓ can't rescue some tokens
          ✓ can't rescue more than all the tokens
      when sale is initialized, and input data root is set
        Layer 1
          buying a random plot in tier 1 (corner case: left)
            ✓ reverts if merkle root is unset (50ms)
            ✓ reverts if merkle proof is invalid (74ms)
            ✓ reverts if current time is before sale starts (93ms)
            ✓ reverts if current time is after sale ends (41ms)
            ✓ reverts if current time is before sequence starts (109ms)
            ✓ reverts if current time is after sequence ends (123ms)
            ✓ reverts if price for the tier is undefined (90ms)
            ✓ reverts if ETH value supplied is lower than the price (196ms)
            ✓ reverts if sILV value supplied is lower than the price (135ms)
            ✓ reverts if sILV value available is lower than the price (107ms)
            ✓ reverts if the sale is not active (isActive override) (39ms)
            ✓ reverts if price oracle reports zero price (85ms)
            ✓ reverts if ERC20 transfer fails (132ms)
            ✓ reverts if minted twice (131ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (82ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (113ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 1 (corner case: middle)
            ✓ reverts if merkle root is unset (61ms)
            ✓ reverts if merkle proof is invalid (83ms)
            ✓ reverts if current time is before sale starts (39ms)
            ✓ reverts if current time is after sale ends
            ✓ reverts if current time is before sequence starts (124ms)
            ✓ reverts if current time is after sequence ends (70ms)
            ✓ reverts if price for the tier is undefined (79ms)
            ✓ reverts if ETH value supplied is lower than the price (179ms)
            ✓ reverts if sILV value supplied is lower than the price (115ms)
            ✓ reverts if sILV value available is lower than the price (124ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (94ms)
            ✓ reverts if ERC20 transfer fails (125ms)
            ✓ reverts if minted twice (179ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (980ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (95ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 1 (corner case: right)
            ✓ reverts if merkle root is unset (67ms)
            ✓ reverts if merkle proof is invalid (126ms)
            ✓ reverts if current time is before sale starts (45ms)
            ✓ reverts if current time is after sale ends (44ms)
            ✓ reverts if current time is before sequence starts (81ms)
            ✓ reverts if current time is after sequence ends (83ms)
            ✓ reverts if price for the tier is undefined (81ms)
            ✓ reverts if ETH value supplied is lower than the price (159ms)
            ✓ reverts if sILV value supplied is lower than the price (118ms)
            ✓ reverts if sILV value available is lower than the price (109ms)
            ✓ reverts if the sale is not active (isActive override) (40ms)
            ✓ reverts if price oracle reports zero price (105ms)
            ✓ reverts if ERC20 transfer fails (138ms)
            ✓ reverts if minted twice (193ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (104ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (102ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 2 (corner case: left)
            ✓ reverts if merkle root is unset (293ms)
            ✓ reverts if merkle proof is invalid (85ms)
            ✓ reverts if current time is before sale starts (46ms)
            ✓ reverts if current time is after sale ends (46ms)
            ✓ reverts if current time is before sequence starts (117ms)
            ✓ reverts if current time is after sequence ends (123ms)
            ✓ reverts if price for the tier is undefined (102ms)
            ✓ reverts if ETH value supplied is lower than the price (86ms)
            ✓ reverts if sILV value supplied is lower than the price (157ms)
            ✓ reverts if sILV value available is lower than the price (109ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (92ms)
            ✓ reverts if ERC20 transfer fails (132ms)
            ✓ reverts if minted twice (142ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (86ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (135ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 2 (corner case: middle)
            ✓ reverts if merkle root is unset (46ms)
            ✓ reverts if merkle proof is invalid (54ms)
            ✓ reverts if current time is before sale starts (40ms)
            ✓ reverts if current time is after sale ends
            ✓ reverts if current time is before sequence starts (67ms)
            ✓ reverts if current time is after sequence ends (75ms)
            ✓ reverts if price for the tier is undefined (78ms)
            ✓ reverts if ETH value supplied is lower than the price (87ms)
            ✓ reverts if sILV value supplied is lower than the price (142ms)
            ✓ reverts if sILV value available is lower than the price (127ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (2059ms)
            ✓ reverts if ERC20 transfer fails (488ms)
            ✓ reverts if minted twice (164ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (98ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (92ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 2 (corner case: right)
            ✓ reverts if merkle root is unset (45ms)
            ✓ reverts if merkle proof is invalid (54ms)
            ✓ reverts if current time is before sale starts (43ms)
            ✓ reverts if current time is after sale ends (38ms)
            ✓ reverts if current time is before sequence starts (68ms)
            ✓ reverts if current time is after sequence ends (72ms)
            ✓ reverts if price for the tier is undefined (77ms)
            ✓ reverts if ETH value supplied is lower than the price (91ms)
            ✓ reverts if sILV value supplied is lower than the price (113ms)
            ✓ reverts if sILV value available is lower than the price (167ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (93ms)
            ✓ reverts if ERC20 transfer fails (126ms)
            ✓ reverts if minted twice (119ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (96ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (86ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 3 (corner case: left)
            ✓ reverts if merkle root is unset (53ms)
            ✓ reverts if merkle proof is invalid (55ms)
            ✓ reverts if current time is before sale starts
            ✓ reverts if current time is after sale ends (45ms)
            ✓ reverts if current time is before sequence starts (117ms)
            ✓ reverts if current time is after sequence ends (71ms)
            ✓ reverts if price for the tier is undefined (83ms)
            ✓ reverts if ETH value supplied is lower than the price (108ms)
            ✓ reverts if sILV value supplied is lower than the price (96ms)
            ✓ reverts if sILV value available is lower than the price (91ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (78ms)
            ✓ reverts if ERC20 transfer fails (110ms)
            ✓ reverts if minted twice (114ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (76ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (75ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 3 (corner case: middle)
            ✓ reverts if merkle root is unset (52ms)
            ✓ reverts if merkle proof is invalid (58ms)
            ✓ reverts if current time is before sale starts
            ✓ reverts if current time is after sale ends (39ms)
            ✓ reverts if current time is before sequence starts (72ms)
            ✓ reverts if current time is after sequence ends (74ms)
            ✓ reverts if price for the tier is undefined (79ms)
            ✓ reverts if ETH value supplied is lower than the price (84ms)
            ✓ reverts if sILV value supplied is lower than the price (120ms)
            ✓ reverts if sILV value available is lower than the price (112ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (99ms)
            ✓ reverts if ERC20 transfer fails (124ms)
            ✓ reverts if minted twice (163ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (106ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (89ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 3 (corner case: right)
            ✓ reverts if merkle root is unset (55ms)
            ✓ reverts if merkle proof is invalid (60ms)
            ✓ reverts if current time is before sale starts (40ms)
            ✓ reverts if current time is after sale ends (70ms)
            ✓ reverts if current time is before sequence starts (74ms)
            ✓ reverts if current time is after sequence ends (75ms)
            ✓ reverts if price for the tier is undefined (111ms)
            ✓ reverts if ETH value supplied is lower than the price (89ms)
            ✓ reverts if sILV value supplied is lower than the price (119ms)
            ✓ reverts if sILV value available is lower than the price (113ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (95ms)
            ✓ reverts if ERC20 transfer fails (134ms)
            ✓ reverts if minted twice (142ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (100ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (83ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 4 (corner case: left)
            ✓ reverts if merkle root is unset (57ms)
            ✓ reverts if merkle proof is invalid (57ms)
            ✓ reverts if current time is before sale starts
            ✓ reverts if current time is after sale ends
            ✓ reverts if current time is before sequence starts (69ms)
            ✓ reverts if current time is after sequence ends (73ms)
            ✓ reverts if price for the tier is undefined (84ms)
            ✓ reverts if ETH value supplied is lower than the price (71ms)
            ✓ reverts if sILV value supplied is lower than the price (99ms)
            ✓ reverts if sILV value available is lower than the price (93ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (84ms)
            ✓ reverts if ERC20 transfer fails (115ms)
            ✓ reverts if minted twice (214ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (84ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (78ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 4 (corner case: middle)
            ✓ reverts if merkle root is unset (49ms)
            ✓ reverts if merkle proof is invalid (56ms)
            ✓ reverts if current time is before sale starts
            ✓ reverts if current time is after sale ends (39ms)
            ✓ reverts if current time is before sequence starts (74ms)
            ✓ reverts if current time is after sequence ends (70ms)
            ✓ reverts if price for the tier is undefined (81ms)
            ✓ reverts if ETH value supplied is lower than the price (90ms)
            ✓ reverts if sILV value supplied is lower than the price (129ms)
            ✓ reverts if sILV value available is lower than the price (129ms)
            ✓ reverts if the sale is not active (isActive override) (39ms)
            ✓ reverts if price oracle reports zero price (93ms)
            ✓ reverts if ERC20 transfer fails (138ms)
            ✓ reverts if minted twice (130ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (99ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (85ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 4 (corner case: right)
            ✓ reverts if merkle root is unset (56ms)
            ✓ reverts if merkle proof is invalid (62ms)
            ✓ reverts if current time is before sale starts (41ms)
            ✓ reverts if current time is after sale ends
            ✓ reverts if current time is before sequence starts (74ms)
            ✓ reverts if current time is after sequence ends (73ms)
            ✓ reverts if price for the tier is undefined (165ms)
            ✓ reverts if ETH value supplied is lower than the price (102ms)
            ✓ reverts if sILV value supplied is lower than the price (121ms)
            ✓ reverts if sILV value available is lower than the price (112ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (99ms)
            ✓ reverts if ERC20 transfer fails (134ms)
            ✓ reverts if minted twice (133ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (101ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (89ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 5 (corner case: left)
            ✓ reverts if merkle root is unset (54ms)
            ✓ reverts if merkle proof is invalid (64ms)
            ✓ reverts if current time is before sale starts (43ms)
            ✓ reverts if current time is after sale ends (40ms)
            ✓ reverts if current time is before sequence starts (76ms)
            ✓ reverts if current time is after sequence ends (80ms)
            ✓ reverts if price for the tier is undefined (92ms)
            ✓ reverts if ETH value supplied is lower than the price (71ms)
            ✓ reverts if sILV value supplied is lower than the price (104ms)
            ✓ reverts if sILV value available is lower than the price (100ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (82ms)
            ✓ reverts if ERC20 transfer fails (123ms)
            ✓ reverts if minted twice (199ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (126ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (80ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 5 (corner case: middle)
            ✓ reverts if merkle root is unset (59ms)
            ✓ reverts if merkle proof is invalid (72ms)
            ✓ reverts if current time is before sale starts
            ✓ reverts if current time is after sale ends
            ✓ reverts if current time is before sequence starts (77ms)
            ✓ reverts if current time is after sequence ends (76ms)
            ✓ reverts if price for the tier is undefined (88ms)
            ✓ reverts if ETH value supplied is lower than the price (90ms)
            ✓ reverts if sILV value supplied is lower than the price (125ms)
            ✓ reverts if sILV value available is lower than the price (127ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (99ms)
            ✓ reverts if ERC20 transfer fails (206ms)
            ✓ reverts if minted twice (139ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (101ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (95ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 5 (corner case: right)
            ✓ reverts if merkle root is unset (49ms)
            ✓ reverts if merkle proof is invalid (59ms)
            ✓ reverts if current time is before sale starts
            ✓ reverts if current time is after sale ends
            ✓ reverts if current time is before sequence starts (73ms)
            ✓ reverts if current time is after sequence ends (72ms)
            ✓ reverts if price for the tier is undefined (83ms)
            ✓ reverts if ETH value supplied is lower than the price (91ms)
            ✓ reverts if sILV value supplied is lower than the price (127ms)
            ✓ reverts if sILV value available is lower than the price (117ms)
            ✓ reverts if the sale is not active (isActive override) (38ms)
            ✓ reverts if price oracle reports zero price (101ms)
            ✓ reverts if ERC20 transfer fails (137ms)
            ✓ reverts if minted twice (129ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (99ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (92ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL1" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
        Layer 2
          buying a random plot in tier 1 (corner case: left)
            ✓ reverts if merkle root is unset (55ms)
            ✓ reverts if merkle proof is invalid (60ms)
            ✓ reverts if current time is before sale starts
            ✓ reverts if current time is after sale ends
            ✓ reverts if current time is before sequence starts (75ms)
            ✓ reverts if current time is after sequence ends (72ms)
            ✓ reverts if price for the tier is undefined (82ms)
            ✓ reverts if ETH value supplied is lower than the price (71ms)
            ✓ reverts if sILV value supplied is lower than the price (105ms)
            ✓ reverts if sILV value available is lower than the price (98ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (85ms)
            ✓ reverts if ERC20 transfer fails (143ms)
            ✓ reverts if minted twice (99ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (84ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (64ms)
            if executed not by EOA
              ✓ reverts (71ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 1 (corner case: middle)
            ✓ reverts if merkle root is unset (48ms)
            ✓ reverts if merkle proof is invalid (61ms)
            ✓ reverts if current time is before sale starts (40ms)
            ✓ reverts if current time is after sale ends
            ✓ reverts if current time is before sequence starts (72ms)
            ✓ reverts if current time is after sequence ends (74ms)
            ✓ reverts if price for the tier is undefined (81ms)
            ✓ reverts if ETH value supplied is lower than the price (98ms)
            ✓ reverts if sILV value supplied is lower than the price (120ms)
            ✓ reverts if sILV value available is lower than the price (121ms)
            ✓ reverts if the sale is not active (isActive override) (46ms)
            ✓ reverts if price oracle reports zero price (108ms)
            ✓ reverts if ERC20 transfer fails (151ms)
            ✓ reverts if minted twice (119ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (145ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (104ms)
            if executed not by EOA
              ✓ reverts (79ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 1 (corner case: right)
            ✓ reverts if merkle root is unset (50ms)
            ✓ reverts if merkle proof is invalid (60ms)
            ✓ reverts if current time is before sale starts (40ms)
            ✓ reverts if current time is after sale ends (46ms)
            ✓ reverts if current time is before sequence starts (74ms)
            ✓ reverts if current time is after sequence ends (77ms)
            ✓ reverts if price for the tier is undefined (84ms)
            ✓ reverts if ETH value supplied is lower than the price (101ms)
            ✓ reverts if sILV value supplied is lower than the price (144ms)
            ✓ reverts if sILV value available is lower than the price (119ms)
            ✓ reverts if the sale is not active (isActive override) (40ms)
            ✓ reverts if price oracle reports zero price (103ms)
            ✓ reverts if ERC20 transfer fails (262ms)
            ✓ reverts if minted twice (117ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (105ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (80ms)
            if executed not by EOA
              ✓ reverts (62ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (3) matches the tier (1)
                    ✓ number of fuel sites (1) matches the tier (1)
                    landmark type matches the tier 1
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 2 (corner case: left)
            ✓ reverts if merkle root is unset (59ms)
            ✓ reverts if merkle proof is invalid (63ms)
            ✓ reverts if current time is before sale starts (41ms)
            ✓ reverts if current time is after sale ends (38ms)
            ✓ reverts if current time is before sequence starts (79ms)
            ✓ reverts if current time is after sequence ends (75ms)
            ✓ reverts if price for the tier is undefined (88ms)
            ✓ reverts if ETH value supplied is lower than the price (76ms)
            ✓ reverts if sILV value supplied is lower than the price (107ms)
            ✓ reverts if sILV value available is lower than the price (137ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (128ms)
            ✓ reverts if ERC20 transfer fails (119ms)
            ✓ reverts if minted twice (127ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (91ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (67ms)
            if executed not by EOA
              ✓ reverts (63ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 2 (corner case: middle)
            ✓ reverts if merkle root is unset (47ms)
            ✓ reverts if merkle proof is invalid (62ms)
            ✓ reverts if current time is before sale starts
            ✓ reverts if current time is after sale ends
            ✓ reverts if current time is before sequence starts (77ms)
            ✓ reverts if current time is after sequence ends (118ms)
            ✓ reverts if price for the tier is undefined (85ms)
            ✓ reverts if ETH value supplied is lower than the price (97ms)
            ✓ reverts if sILV value supplied is lower than the price (117ms)
            ✓ reverts if sILV value available is lower than the price (122ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (99ms)
            ✓ reverts if ERC20 transfer fails (144ms)
            ✓ reverts if minted twice (115ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (113ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (81ms)
            if executed not by EOA
              ✓ reverts (63ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 2 (corner case: right)
            ✓ reverts if merkle root is unset (76ms)
            ✓ reverts if merkle proof is invalid (62ms)
            ✓ reverts if current time is before sale starts (38ms)
            ✓ reverts if current time is after sale ends (41ms)
            ✓ reverts if current time is before sequence starts (72ms)
            ✓ reverts if current time is after sequence ends (83ms)
            ✓ reverts if price for the tier is undefined (85ms)
            ✓ reverts if ETH value supplied is lower than the price (96ms)
            ✓ reverts if sILV value supplied is lower than the price (129ms)
            ✓ reverts if sILV value available is lower than the price (151ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (160ms)
            ✓ reverts if ERC20 transfer fails (192ms)
            ✓ reverts if minted twice (191ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (109ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (81ms)
            if executed not by EOA
              ✓ reverts (68ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (6) matches the tier (2)
                    ✓ number of fuel sites (3) matches the tier (2)
                    landmark type matches the tier 2
                      ✓ no landmark (ID 0) for the tier less than 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 3 (corner case: left)
            ✓ reverts if merkle root is unset (65ms)
            ✓ reverts if merkle proof is invalid (63ms)
            ✓ reverts if current time is before sale starts (48ms)
            ✓ reverts if current time is after sale ends (39ms)
            ✓ reverts if current time is before sequence starts (82ms)
            ✓ reverts if current time is after sequence ends (77ms)
            ✓ reverts if price for the tier is undefined (87ms)
            ✓ reverts if ETH value supplied is lower than the price (75ms)
            ✓ reverts if sILV value supplied is lower than the price (105ms)
            ✓ reverts if sILV value available is lower than the price (121ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (85ms)
            ✓ reverts if ERC20 transfer fails (121ms)
            ✓ reverts if minted twice (109ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (86ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (67ms)
            if executed not by EOA
              ✓ reverts (61ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 3 (corner case: middle)
            ✓ reverts if merkle root is unset (45ms)
            ✓ reverts if merkle proof is invalid (67ms)
            ✓ reverts if current time is before sale starts
            ✓ reverts if current time is after sale ends (38ms)
            ✓ reverts if current time is before sequence starts (78ms)
            ✓ reverts if current time is after sequence ends (79ms)
            ✓ reverts if price for the tier is undefined (87ms)
            ✓ reverts if ETH value supplied is lower than the price (102ms)
            ✓ reverts if sILV value supplied is lower than the price (131ms)
            ✓ reverts if sILV value available is lower than the price (226ms)
            ✓ reverts if the sale is not active (isActive override) (43ms)
            ✓ reverts if price oracle reports zero price (86ms)
            ✓ reverts if ERC20 transfer fails (150ms)
            ✓ reverts if minted twice (116ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (115ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (93ms)
            if executed not by EOA
              ✓ reverts (64ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 3 (corner case: right)
            ✓ reverts if merkle root is unset (69ms)
            ✓ reverts if merkle proof is invalid (66ms)
            ✓ reverts if current time is before sale starts (41ms)
            ✓ reverts if current time is after sale ends
            ✓ reverts if current time is before sequence starts (79ms)
            ✓ reverts if current time is after sequence ends (86ms)
            ✓ reverts if price for the tier is undefined (118ms)
            ✓ reverts if ETH value supplied is lower than the price (101ms)
            ✓ reverts if sILV value supplied is lower than the price (128ms)
            ✓ reverts if sILV value available is lower than the price (126ms)
            ✓ reverts if the sale is not active (isActive override) (47ms)
            ✓ reverts if price oracle reports zero price (108ms)
            ✓ reverts if ERC20 transfer fails (263ms)
            ✓ reverts if minted twice (187ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (164ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (131ms)
            if executed not by EOA
              ✓ reverts (65ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (9) matches the tier (3)
                    ✓ number of fuel sites (6) matches the tier (3)
                    landmark type matches the tier 3
                      ✓ element landmark (ID 1-3) for the tier 3
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 4 (corner case: left)
            ✓ reverts if merkle root is unset (71ms)
            ✓ reverts if merkle proof is invalid (63ms)
            ✓ reverts if current time is before sale starts (38ms)
            ✓ reverts if current time is after sale ends (40ms)
            ✓ reverts if current time is before sequence starts (78ms)
            ✓ reverts if current time is after sequence ends (76ms)
            ✓ reverts if price for the tier is undefined (85ms)
            ✓ reverts if ETH value supplied is lower than the price (75ms)
            ✓ reverts if sILV value supplied is lower than the price (112ms)
            ✓ reverts if sILV value available is lower than the price (107ms)
            ✓ reverts if the sale is not active (isActive override) (45ms)
            ✓ reverts if price oracle reports zero price (82ms)
            ✓ reverts if ERC20 transfer fails (123ms)
            ✓ reverts if minted twice (106ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (86ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (64ms)
            if executed not by EOA
              ✓ reverts (64ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 4 (corner case: middle)
            ✓ reverts if merkle root is unset (49ms)
            ✓ reverts if merkle proof is invalid (62ms)
            ✓ reverts if current time is before sale starts
            ✓ reverts if current time is after sale ends (49ms)
            ✓ reverts if current time is before sequence starts (89ms)
            ✓ reverts if current time is after sequence ends (80ms)
            ✓ reverts if price for the tier is undefined (96ms)
            ✓ reverts if ETH value supplied is lower than the price (100ms)
            ✓ reverts if sILV value supplied is lower than the price (130ms)
            ✓ reverts if sILV value available is lower than the price (118ms)
            ✓ reverts if the sale is not active (isActive override) (39ms)
            ✓ reverts if price oracle reports zero price (114ms)
            ✓ reverts if ERC20 transfer fails (154ms)
            ✓ reverts if minted twice (123ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (113ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (79ms)
            if executed not by EOA
              ✓ reverts (108ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 4 (corner case: right)
            ✓ reverts if merkle root is unset (55ms)
            ✓ reverts if merkle proof is invalid (68ms)
            ✓ reverts if current time is before sale starts (43ms)
            ✓ reverts if current time is after sale ends (47ms)
            ✓ reverts if current time is before sequence starts (168ms)
            ✓ reverts if current time is after sequence ends (83ms)
            ✓ reverts if price for the tier is undefined (165ms)
            ✓ reverts if ETH value supplied is lower than the price (119ms)
            ✓ reverts if sILV value supplied is lower than the price (206ms)
            ✓ reverts if sILV value available is lower than the price (130ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (112ms)
            ✓ reverts if ERC20 transfer fails (151ms)
            ✓ reverts if minted twice (121ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (109ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (79ms)
            if executed not by EOA
              ✓ reverts (65ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (12) matches the tier (4)
                    ✓ number of fuel sites (9) matches the tier (4)
                    landmark type matches the tier 4
                      ✓ fuel landmark (ID 4-6) for the tier 4
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 5 (corner case: left)
            ✓ reverts if merkle root is unset (75ms)
            ✓ reverts if merkle proof is invalid (61ms)
            ✓ reverts if current time is before sale starts
            ✓ reverts if current time is after sale ends
            ✓ reverts if current time is before sequence starts (79ms)
            ✓ reverts if current time is after sequence ends (80ms)
            ✓ reverts if price for the tier is undefined (89ms)
            ✓ reverts if ETH value supplied is lower than the price (78ms)
            ✓ reverts if sILV value supplied is lower than the price (113ms)
            ✓ reverts if sILV value available is lower than the price (106ms)
            ✓ reverts if the sale is not active (isActive override) (42ms)
            ✓ reverts if price oracle reports zero price (88ms)
            ✓ reverts if ERC20 transfer fails (126ms)
            ✓ reverts if minted twice (111ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (87ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (76ms)
            if executed not by EOA
              ✓ reverts (70ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 5 (corner case: middle)
            ✓ reverts if merkle root is unset (46ms)
            ✓ reverts if merkle proof is invalid (65ms)
            ✓ reverts if current time is before sale starts (39ms)
            ✓ reverts if current time is after sale ends (64ms)
            ✓ reverts if current time is before sequence starts (74ms)
            ✓ reverts if current time is after sequence ends (79ms)
            ✓ reverts if price for the tier is undefined (97ms)
            ✓ reverts if ETH value supplied is lower than the price (103ms)
            ✓ reverts if sILV value supplied is lower than the price (134ms)
            ✓ reverts if sILV value available is lower than the price (155ms)
            ✓ reverts if the sale is not active (isActive override) (43ms)
            ✓ reverts if price oracle reports zero price (104ms)
            ✓ reverts if ERC20 transfer fails (179ms)
            ✓ reverts if minted twice (125ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (141ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (86ms)
            if executed not by EOA
              ✓ reverts (100ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
          buying a random plot in tier 5 (corner case: right)
            ✓ reverts if merkle root is unset (53ms)
            ✓ reverts if merkle proof is invalid (67ms)
            ✓ reverts if current time is before sale starts (39ms)
            ✓ reverts if current time is after sale ends (39ms)
            ✓ reverts if current time is before sequence starts (84ms)
            ✓ reverts if current time is after sequence ends (79ms)
            ✓ reverts if price for the tier is undefined (93ms)
            ✓ reverts if ETH value supplied is lower than the price (102ms)
            ✓ reverts if sILV value supplied is lower than the price (134ms)
            ✓ reverts if sILV value available is lower than the price (128ms)
            ✓ reverts if the sale is not active (isActive override)
            ✓ reverts if price oracle reports zero price (112ms)
            ✓ reverts if ERC20 transfer fails (146ms)
            ✓ reverts if minted twice (120ms)
            reverts if price oracle reports price close to zero
              ✓ reverts if price oracle price is equal to border price 1000 (108ms)
              ✓ doesn't revert if price oracle price is bigger than border price 1000 (80ms)
            if executed not by EOA
              ✓ reverts (69ms)
            succeeds otherwise
              ✓ sale is active
              when buying with ETH, without beneficiary set (default)
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ sale ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with ETH, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer ETH balance decreases as expected
                  ✓ beneficiary ETH balance increases as expected
                  ✓ buyer sILV balance remains
              when buying with sILV, without beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ sale sILV balance increases as expected
                  ✓ buyer ETH balance remains
              when buying with sILV, with beneficiary set
                ✓ "PlotBoughtL2" event is emitted
                the plot bought is minted as expected
                  ✓ LandSale::exists: true
                  ✓ ERC721::exists: true
                  ✓ ERC721::ownerOf: buyer
                  ✓ ERC721::totalSupply: +1
                  ✓ bought plot has metadata
                  bought plot metadata is set as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ generator version is 0
                    ✓ seed is set
                  bought plot metadata view looks as expected
                    ✓ regionId matches
                    ✓ x-coordinate matches
                    ✓ y-coordinate matches
                    ✓ plot size matches
                    ✓ number of element sites (15) matches the tier (5)
                    ✓ number of fuel sites (12) matches the tier (5)
                    landmark type matches the tier 5
                      ✓ Arena landmark (ID 7) for the tier 5
                funds move as expected
                  ✓ buyer sILV balance decreases as expected
                  ✓ beneficiary sILV balance increases as expected
                  ✓ buyer ETH balance remains
        buying a plot in free tier (0)
          ✓ reverts (not supported in this sale version) (52ms)
        pausing/resuming: pause() / resume()
          ✓ resuming is impossible (throws) before paused
          before sale starts
            ✓ sale is not active
          after sale starts
            ✓ sale is active
          after sale ends
            ✓ sale is not active
          before sale ends
            ✓ sale is active
          when paused at any time
            ✓ sale is not active
            ✓ pausedAt is updated as expected
            ✓ pauseDuration doesn't change (remains zero)
            ✓ ownTime() remains equal to the current time
            ✓ "Paused" event is emitted
            ✓ pausing again is impossible (throws)
            initialization resets the pause state and resumes the sale
              ✓ sale is active
              ✓ pausedAt is erased (changed to zero)
              ✓ pauseDuration is erased (changed to zero)
              ✓ ownTime() remains equal to the current time now32()
              ✓ "Resumed" event is emitted
              ✓ resuming again is impossible (throws)
            when resumed after the pause
              ✓ pausedAt is erased (changed to zero)
              ✓ pauseDuration is increased as expected
              ✓ ownTime() shifts as expected
              ✓ "Resumed" event is emitted
              ✓ resuming again is impossible (throws)
              initialization resets the pause state
                ✓ sale is active
                ✓ pausedAt doesn't change (remains zero)
                ✓ pauseDuration is erased (changed to zero)
                ✓ ownTime() remains equal to the current time now32()
                ✓ "Resumed" event is not emitted
                ✓ resuming again is impossible (throws)
              when additional time passes
                ✓ ownTime() remains shifted as expected
          when paused before the sale starts
            ✓ sale is not active
            when resumed before the sale starts
              ✓ sale is not active
              ✓ ownTime() remains equal to the current time
            when resumed after the sale starts
              ✓ sale is active
              ✓ ownTime() shifts as expected to saleStart
              ✓ token price for seq 0, tier 1 remains equal to initial
              ✓ token price for seq 0, tier 2 remains equal to initial
              ✓ token price for seq 0, tier 3 remains equal to initial
              ✓ token price for seq 0, tier 4 remains equal to initial
              ✓ token price for seq 0, tier 5 remains equal to initial
          when paused after the sale starts
            ✓ sale is not active
            ✓ ownTime() remains equal to the current time
            when resumed after the pause
              ✓ sale is active
              ✓ ownTime() shifts as expected
              ✓ token price for seq 0, tier 0 remains equal to initial
              ✓ token price for seq 0, tier 1 remains equal to initial
              ✓ token price for seq 0, tier 2 remains equal to initial
              ✓ token price for seq 0, tier 3 remains equal to initial
              ✓ token price for seq 0, tier 4 remains equal to initial
              ✓ token price for seq 0, tier 5 remains equal to initial
        withdrawing
          ✓ throws if `to` address is not set (136ms)
          withdrawing ETH only
            ✓ throws if there is no ETH, and no sILV on the balance
            ✓ throws if there is no ETH, and some sILV on the balance (210ms)
            succeeds if there is some ETH, and no sILV on the balance
              ✓ "Withdrawn" event is emitted
              ✓ treasury ETH balance increases as expected
              ✓ sale contract ETH balance decreases to zero
              ✓ treasury sILV balance doesn't change
              ✓ sale contract sILV balance doesn't change
            succeeds if there is some ETH, and some sILV on the balance
              ✓ "Withdrawn" event is emitted
              ✓ treasury ETH balance increases as expected
              ✓ sale contract ETH balance decreases to zero
              ✓ treasury sILV balance doesn't change
              ✓ sale contract sILV balance doesn't change
            self withdraw succeeds
              ✓ "Withdrawn" event is emitted
              ✓ treasury ETH balance increases as expected
              ✓ sale contract ETH balance decreases to zero
              ✓ treasury sILV balance doesn't change
              ✓ sale contract sILV balance doesn't change
          withdrawing ETH and sILV
            ✓ throws if there is no ETH, and no sILV on the balance
            succeeds if there is no ETH, and some sILV on the balance
              ✓ "Withdrawn" event is emitted
              ✓ treasury ETH balance doesn't change
              ✓ sale contract ETH balance remains zero
              ✓ treasury sILV balance increases as expected
              ✓ sale contract sILV balance decreases to zero
            succeeds if there is some ETH, and no sILV on the balance
              ✓ "Withdrawn" event is emitted
              ✓ treasury ETH balance increases as expected
              ✓ sale contract ETH balance decreases to zero
              ✓ treasury sILV balance doesn't change
              ✓ sale contract sILV balance doesn't change
            succeeds if there is some ETH, and some sILV on the balance
              ✓ "Withdrawn" event is emitted
              ✓ treasury ETH balance increases as expected
              ✓ sale contract ETH balance decreases to zero
              ✓ treasury sILV balance increases as expected
              ✓ sale contract sILV balance decreases to zero
            self withdraw succeeds
              ✓ "Withdrawn" event is emitted
              ✓ treasury ETH balance increases as expected
              ✓ sale contract ETH balance decreases to zero
              ✓ treasury sILV balance doesn't change
              ✓ sale contract sILV balance doesn't change

  Contract: LandDescriptor: Land SVG Generator Tests
    Test LandSvgLib functions
      ✓ Generate Land Name for regionId: 0, x: 0 and y: 0
      ✓ Generate Land Name for regionId: 1, x: 0 and y: 0
      ✓ Generate Land Name for regionId: 2, x: 0 and y: 0
      ✓ Generate Land Name for regionId: 3, x: 0 and y: 0
      ✓ Generate Land Name for regionId: 4, x: 0 and y: 0
      ✓ Generate Land Name for regionId: 5, x: 0 and y: 0
      ✓ Generate Land Name for regionId: 6, x: 0 and y: 0
      ✓ Generate Land Name for regionId: 7, x: 0 and y: 0
      ✓ Generate Land Name for regionId: 8, x: 0 and y: 0
    Generate Land SVGs for token IDs: 1,2,3,4,5,6,7,8,9,10 through LandERC721 contract
Estimated gas amount for 1 SVG generation: 10997589
SVG saved to '/var/folders/p6/khvkx49s6737rky0zyglsxdc0000gn/T/land-salexUrWao/land_svg_token_id_1_gridsize_48.svg'
      ✓ gen Land SVG file for 1 (368313ms)
Estimated gas amount for 2 SVG generation: 10454695
SVG saved to '/var/folders/p6/khvkx49s6737rky0zyglsxdc0000gn/T/land-saleQCEScq/land_svg_token_id_2_gridsize_49.svg'
      ✓ gen Land SVG file for 2 (349026ms)

  Contract: AccessControl (ACL) Core tests
    when performed by ACCESS_MANAGER
      when ACCESS_MANAGER has full set of permissions
        what you set
          ✓ is what you get
        what you remove
          ✓ is what gets removed
      when ACCESS_MANAGER doesn't have any permissions
        what you get, independently of what you set
          ✓ is always zero
        what you get, independently of what you remove
          ✓ is always what you had
      when ACCESS_MANAGER has some permissions
        what you get
          ✓ is an intersection of what you set and what you have
        what you remove
          ✓ is an intersection of what you tried to remove and what you have
      ACCESS_MANAGER updates itself
        ✓ and degrades to zero with the 99.99% probability in 14 runs (135ms)
      when ACCESS_MANAGER grants ACCESS_MANAGER permission
        ✓ operator becomes an ACCESS_MANAGER
      when ACCESS_MANAGER revokes ACCESS_MANAGER permission from itself
        ✓ operator becomes an ACCESS_MANAGER
    otherwise (no ACCESS_MANAGER permission)
      ✓ updateFeatures reverts
      ✓ updateRole reverts

  Contract: UpgradeableAccessControl (U-ACL) Core tests
    when performed by ACCESS_MANAGER
      when ACCESS_MANAGER has full set of permissions
        what you set
          ✓ is what you get
        what you remove
          ✓ is what gets removed
      when ACCESS_MANAGER doesn't have any permissions
        what you get, independently of what you set
          ✓ is always zero
        what you get, independently of what you remove
          ✓ is always what you had
      when ACCESS_MANAGER has some permissions
        what you get
          ✓ is an intersection of what you set and what you have
        what you remove
          ✓ is an intersection of what you tried to remove and what you have
      ACCESS_MANAGER updates itself
        ✓ and degrades to zero with the 99.99% probability in 14 runs (147ms)
      when ACCESS_MANAGER grants ACCESS_MANAGER permission
        ✓ operator becomes an ACCESS_MANAGER
      when ACCESS_MANAGER revokes ACCESS_MANAGER permission from itself
        ✓ operator becomes an ACCESS_MANAGER
    otherwise (no ACCESS_MANAGER permission)
      ✓ updateFeatures reverts
      ✓ updateRole reverts
    when performed by ACCESS_MANAGER
      when ACCESS_MANAGER has full set of permissions
        what you set
          ✓ is what you get
        what you remove
          ✓ is what gets removed
      when ACCESS_MANAGER doesn't have any permissions
        what you get, independently of what you set
          ✓ is always zero
        what you get, independently of what you remove
          ✓ is always what you had
      when ACCESS_MANAGER has some permissions
        what you get
          ✓ is an intersection of what you set and what you have
        what you remove
          ✓ is an intersection of what you tried to remove and what you have
      ACCESS_MANAGER updates itself
        ✓ and degrades to zero with the 99.99% probability in 14 runs (149ms)
      when ACCESS_MANAGER grants ACCESS_MANAGER permission
        ✓ operator becomes an ACCESS_MANAGER
      when ACCESS_MANAGER revokes ACCESS_MANAGER permission from itself
        ✓ operator becomes an ACCESS_MANAGER
    otherwise (no ACCESS_MANAGER permission)
      ✓ updateFeatures reverts
      ✓ updateRole reverts
    when there is new (v2) implementation available
      when performed by UPGRADE_MANAGER
        implementation upgrade succeeds
          ✓ "Upgraded" event is emitted
          ✓ implementation address is as expected
      otherwise (no UPGRADE_MANAGER permission)
        ✓ implementation upgrade reverts


  4325 passing (1h)

-------------------------------|----------|----------|----------|----------|----------------|
File                           |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |
-------------------------------|----------|----------|----------|----------|----------------|
 lib/                          |      100 |      100 |      100 |      100 |                |
  LandBlobLib.sol              |      100 |      100 |      100 |      100 |                |
  LandLib.sol                  |      100 |      100 |      100 |      100 |                |
  LandSvgLib.sol               |      100 |      100 |      100 |      100 |                |
 protocol/                     |      100 |      100 |      100 |      100 |                |
  LandSale.sol                 |      100 |      100 |      100 |      100 |                |
 token/                        |      100 |      100 |      100 |      100 |                |
  ERC20Impl.sol                |      100 |      100 |      100 |      100 |                |
  ERC721Impl.sol               |      100 |      100 |      100 |      100 |                |
  LandDescriptorImpl.sol       |      100 |      100 |      100 |      100 |                |
  LandERC721.sol               |      100 |      100 |      100 |      100 |                |
  RoyalERC721.sol              |      100 |      100 |      100 |      100 |                |
  UpgradeableERC721.sol        |      100 |      100 |      100 |      100 |                |
 utils/                        |      100 |      100 |      100 |      100 |                |
  AccessControl.sol            |      100 |      100 |      100 |      100 |                |
  UpgradeableAccessControl.sol |      100 |      100 |      100 |      100 |                |
-------------------------------|----------|----------|----------|----------|----------------|
All files                      |      100 |      100 |      100 |      100 |                |
-------------------------------|----------|----------|----------|----------|----------------|

> Istanbul reports written to ./coverage/ and ./coverage.json
